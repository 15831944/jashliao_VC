<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DSACSS Operational Code: ExtendedKalmanFilter.cpp Source File</title>
<link href="doxygen.css" tppabs="http://dsacss.sourceforge.net/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<h1>ExtendedKalmanFilter.cpp</h1><a href="ExtendedKalmanFilter_8cpp.html" tppabs="http://dsacss.sourceforge.net/ExtendedKalmanFilter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/************************************************************************************************/</span>
00012 <span class="preprocessor">#include "<a class="code" href="ExtendedKalmanFilter_8h.html" tppabs="http://dsacss.sourceforge.net/ExtendedKalmanFilter_8h.html">ExtendedKalmanFilter.h</a>"</span>
00013 <span class="preprocessor">#include "<a class="code" href="EKFfunctions_8h.html" tppabs="http://dsacss.sourceforge.net/EKFfunctions_8h.html">EKFfunctions.h</a>"</span>
00014 <span class="preprocessor">#include "<a class="code" href="LKFfunctions_8h.html" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8h.html">LKFfunctions.h</a>"</span>
00015 
00016 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00017 
<a name="l00019"></a><a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera0" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera0">00019</a> <a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera0" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera0">ExtendedKalmanFilter::ExtendedKalmanFilter</a>() {
00020         
00021         <a class="code" href="classKalmanFilter.html#KalmanFiltera15" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera15">SetSystemProcessNoiseMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a7" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a7">Qmatrix</a>);
00022         <a class="code" href="classKalmanFilter.html#KalmanFiltera16" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera16">SetMeasurementCovarianceMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a8" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a8">Rmatrix</a>);
00023         <a class="code" href="classKalmanFilter.html#KalmanFiltera17" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera17">SetStateJacobianMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a5" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a5">Fmatrix</a>);
00024         <a class="code" href="classKalmanFilter.html#KalmanFiltera18" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera18">SetMeasurementJacobianMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a6" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a6">Hmatrix</a>);
00025         
00026         <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera12" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera12">SetNonlinearStatePropagator</a>(&amp;<a class="code" href="EKFfunctions_8cpp.html#a0" tppabs="http://dsacss.sourceforge.net/EKFfunctions_8cpp.html#a0">EKFStatePropagator</a>);
00027     <a class="code" href="classKalmanFilter.html#KalmanFiltera11" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera11">SetCovariancePropagator</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a1" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a1">LKFCovarianceMatrixPropagator</a>);
00028     <a class="code" href="classKalmanFilter.html#KalmanFiltera12" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera12">SetKalmanGainCalculation</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a2" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a2">LKFCalcualteKalmanGain</a>);
00029     <a class="code" href="classKalmanFilter.html#KalmanFiltera13" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera13">SetStateMeasurementUpdate</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a3" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a3">LKFStateMeasurementUpdate</a>);
00030     <a class="code" href="classKalmanFilter.html#KalmanFiltera14" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera14">SetCovarianceMeasurementUpdate</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a4" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a4">LKFCovarianceMeasurementUpdate</a>);
00031         <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera11" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera11">SetPropagationStepSize</a>(<a class="code" href="ExtendedKalmanFilter_8h.html#a0" tppabs="http://dsacss.sourceforge.net/ExtendedKalmanFilter_8h.html#a0">DEFAULT_PROPAGATION_STEP_SIZE</a>);
00032         
00033 };
00034 
<a name="l00035"></a><a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera1" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera1">00035</a> <a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera0" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera0">ExtendedKalmanFilter::ExtendedKalmanFilter</a>(<span class="keywordtype">double</span> propStepSize) {
00036         
00037         <a class="code" href="classKalmanFilter.html#KalmanFiltera15" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera15">SetSystemProcessNoiseMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a7" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a7">Qmatrix</a>);
00038         <a class="code" href="classKalmanFilter.html#KalmanFiltera16" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera16">SetMeasurementCovarianceMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a8" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a8">Rmatrix</a>);
00039         <a class="code" href="classKalmanFilter.html#KalmanFiltera17" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera17">SetStateJacobianMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a5" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a5">Fmatrix</a>);
00040         <a class="code" href="classKalmanFilter.html#KalmanFiltera18" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera18">SetMeasurementJacobianMatrix</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a6" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a6">Hmatrix</a>);
00041         
00042         <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera12" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera12">SetNonlinearStatePropagator</a>(&amp;<a class="code" href="EKFfunctions_8cpp.html#a0" tppabs="http://dsacss.sourceforge.net/EKFfunctions_8cpp.html#a0">EKFStatePropagator</a>);
00043     <a class="code" href="classKalmanFilter.html#KalmanFiltera11" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera11">SetCovariancePropagator</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a1" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a1">LKFCovarianceMatrixPropagator</a>);
00044     <a class="code" href="classKalmanFilter.html#KalmanFiltera12" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera12">SetKalmanGainCalculation</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a2" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a2">LKFCalcualteKalmanGain</a>);
00045     <a class="code" href="classKalmanFilter.html#KalmanFiltera13" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera13">SetStateMeasurementUpdate</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a3" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a3">LKFStateMeasurementUpdate</a>);
00046     <a class="code" href="classKalmanFilter.html#KalmanFiltera14" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera14">SetCovarianceMeasurementUpdate</a>(&amp;<a class="code" href="LKFfunctions_8cpp.html#a4" tppabs="http://dsacss.sourceforge.net/LKFfunctions_8cpp.html#a4">LKFCovarianceMeasurementUpdate</a>);
00047         <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera11" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera11">SetPropagationStepSize</a>(propStepSize);
00048         
00049 };
00050 
<a name="l00052"></a><a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera2" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera2">00052</a> <a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera2" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera2">ExtendedKalmanFilter::~ExtendedKalmanFilter</a>() { };
00053                 
<a name="l00055"></a><a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera15" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera15">00055</a> Vector <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera15" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFiltera15">ExtendedKalmanFilter::GetEstimatedMeasurements</a>() {       <span class="keywordflow">return</span> (*ptr_measurementRHSFunc)(<span class="keyword">this</span>); };
00056 
<a name="l00057"></a><a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterb0" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterb0">00057</a> <span class="keywordtype">void</span> <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterb0" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterb0">ExtendedKalmanFilter::PropagateState</a>() { <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterp5" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterp5">ptr_nonlinearStatePropagator</a>(<span class="keyword">this</span>); };
00058 
<a name="l00059"></a><a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera7" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera7">00059</a> <span class="keywordtype">void</span> <a class="code" href="classExtendedKalmanFilter.html#ExtendedKalmanFiltera7" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#ExtendedKalmanFiltera7">ExtendedKalmanFilter::EstimateState</a>() {
00060         
00061         <a class="code" href="classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterb0" tppabs="http://dsacss.sourceforge.net/classExtendedKalmanFilter.html#IteratedExtendedKalmanFilterb0">PropagateState</a>();
00062         <a class="code" href="classKalmanFilter.html#KalmanFiltera4" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera4">PropagateCovariance</a>();
00063         <a class="code" href="classKalmanFilter.html#KalmanFiltera5" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera5">CalculateKalmanGain</a>();
00064         <a class="code" href="classKalmanFilter.html#KalmanFiltera6" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera6">MeasurementUpdateState</a>();
00065         <a class="code" href="classKalmanFilter.html#KalmanFiltera7" tppabs="http://dsacss.sourceforge.net/classKalmanFilter.html#KalmanFiltera7">MeasurementUpdateCovariance</a>();
00066         <a class="code" href="classSequentialFilter.html#SequentialFilterp0" tppabs="http://dsacss.sourceforge.net/classSequentialFilter.html#SequentialFilterp0">m_timeOfEstimate</a> = <a class="code" href="classSequentialFilter.html#SequentialFilterp1" tppabs="http://dsacss.sourceforge.net/classSequentialFilter.html#SequentialFilterp1">m_timeOfMeasurements</a>;
00067         
00068 };
00069 
00070 <span class="comment">// Do not change the comments below - they will be added automatically by CVS</span>
00071 <span class="comment">/*****************************************************************************</span>
00072 <span class="comment">* $Log: ExtendedKalmanFilter.cpp,v $</span>
00073 <span class="comment">* Revision 1.4  2003/11/01 21:00:14  rsharo</span>
00074 <span class="comment">* changed "Time.h" includes to "utils/Time.h" includes. Also eliminated excess compile warnings.</span>
00075 <span class="comment">*</span>
00076 <span class="comment">* Revision 1.3  2003/07/01 21:05:25  mavandyk</span>
00077 <span class="comment">* Edited default constructor, and added another constructor to set step size values.</span>
00078 <span class="comment">*</span>
00079 <span class="comment">* Revision 1.2  2003/06/27 22:39:19  mavandyk</span>
00080 <span class="comment">* Fixed many typos and bugs.</span>
00081 <span class="comment">*</span>
00082 <span class="comment">* Revision 1.1  2003/06/24 22:42:19  mavandyk</span>
00083 <span class="comment">* Added get functions for the data member and added comments.</span>
00084 <span class="comment">*</span>
00085 <span class="comment">* Revision 1.4  2003/06/12 16:11:23  mavandyk</span>
00086 <span class="comment">* Changed all references to iterative filter to sequential filter for greater clarity.</span>
00087 <span class="comment">*</span>
00088 <span class="comment">* Revision 1.3  2003/06/11 15:46:16  simpliciter</span>
00089 <span class="comment">* Added include statement for IterativeFilter.h.</span>
00090 <span class="comment">*</span>
00091 <span class="comment">* Revision 1.2  2003/06/11 13:08:13  simpliciter</span>
00092 <span class="comment">* Minor changes.</span>
00093 <span class="comment">*</span>
00094 <span class="comment">* Revision 1.1  2003/06/11 03:04:20  simpliciter</span>
00095 <span class="comment">* Initial submission.</span>
00096 <span class="comment">*</span>
00097 <span class="comment">******************************************************************************/</span>
00098 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 11:49:54 2004 for DSACSS Operational Code by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.png" tppabs="http://dsacss.sourceforge.net/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
