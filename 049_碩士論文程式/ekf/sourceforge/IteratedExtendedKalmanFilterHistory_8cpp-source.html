<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DSACSS Operational Code: IteratedExtendedKalmanFilterHistory.cpp Source File</title>
<link href="doxygen.css" tppabs="http://dsacss.sourceforge.net/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<h1>IteratedExtendedKalmanFilterHistory.cpp</h1><a href="IteratedExtendedKalmanFilterHistory_8cpp.html" tppabs="http://dsacss.sourceforge.net/IteratedExtendedKalmanFilterHistory_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 
00008 <span class="comment">/*  </span>
00009 <span class="comment"> */</span>
00011 
00012 <span class="preprocessor">#include "<a class="code" href="IteratedExtendedKalmanFilterHistory_8h.html" tppabs="http://dsacss.sourceforge.net/IteratedExtendedKalmanFilterHistory_8h.html">IteratedExtendedKalmanFilterHistory.h</a>"</span>
00013 
<a name="l00016"></a><a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya0" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya0">00016</a> <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya0" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya0">IteratedExtendedKalmanFilterHistory::IteratedExtendedKalmanFilterHistory</a>(<a class="code" href="classIteratedExtendedKalmanFilter.html" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilter.html">IteratedExtendedKalmanFilter</a>* _ptr_filter)
00017 {
00018         <span class="comment">// calls the initialization sequence in SequentialFilterHistory</span>
00019     <a class="code" href="classSequentialFilterHistory.html#SequentialFilterHistoryb0" tppabs="http://dsacss.sourceforge.net/classSequentialFilterHistory.html#SequentialFilterHistoryb0">InitializeSequentialFilterHistory</a>(_ptr_filter);
00020         
00021         <span class="comment">// new Kalman Filter data to be stored:  the covariance and Kalman gain matrices.</span>
00022         <a class="code" href="classKalmanFilterHistory.html#KalmanFilterHistoryp0" tppabs="http://dsacss.sourceforge.net/classKalmanFilterHistory.html#KalmanFilterHistoryp0">m_kfCovarianceHistory</a>.reserve(HISTORY_RESERVE_SIZE);
00023         <a class="code" href="classKalmanFilterHistory.html#KalmanFilterHistoryp1" tppabs="http://dsacss.sourceforge.net/classKalmanFilterHistory.html#KalmanFilterHistoryp1">m_kfKalmanGainHistory</a>.reserve(HISTORY_RESERVE_SIZE);
00024         
00025         <span class="comment">// new IEKF data to be stored:  the number of iterations for each measurement update.</span>
00026         <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistoryr0" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistoryr0">m_iekfIterationHistory</a>.reserve(HISTORY_RESERVE_SIZE);
00027         
00028         <span class="comment">// not doing interpolations at this time</span>
00029         <span class="comment">//m_kalmanFilterInterpolations.reserve(HISTORY_RESERVE_SIZE);</span>
00030 }
00031 
00032 
00033 
<a name="l00043"></a><a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2">00043</a> <span class="keywordtype">void</span> <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2">IteratedExtendedKalmanFilterHistory::AppendHistory</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; _appendTime)
00044 {
00045     <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2">AppendHistory</a>(ssfTime(_appendTime));
00046 }    
00047 
00048 
00049 
<a name="l00059"></a><a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya3" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya3">00059</a> <span class="keywordtype">void</span> <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya2">IteratedExtendedKalmanFilterHistory::AppendHistory</a>(<span class="keyword">const</span> ssfTime&amp; _appendTime)
00060 {
00061         <span class="comment">// This guy logs the time, states, controls, measurements, parameters, P, and K.</span>
00062         <a class="code" href="classKalmanFilterHistory.html#KalmanFilterHistorya3" tppabs="http://dsacss.sourceforge.net/classKalmanFilterHistory.html#KalmanFilterHistorya3">ExtendedKalmanFilterHistory::AppendHistory</a>(_appendTime);
00063         
00064         <span class="comment">// And now the number of iterations.</span>
00065         <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistoryr0" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistoryr0">m_iekfIterationHistory</a>.push_back( <a class="code" href="classSequentialFilterHistory.html#SequentialFilterHistoryp0" tppabs="http://dsacss.sourceforge.net/classSequentialFilterHistory.html#SequentialFilterHistoryp0">m_ptr_filter</a>-&gt;<a class="code" href="classSequentialFilter.html#SequentialFiltera17" tppabs="http://dsacss.sourceforge.net/classSequentialFilter.html#SequentialFiltera17">GetNumIterations</a>() );
00066         
00067         <span class="keywordflow">return</span>;
00068 }
00069 
00070 
00071 
00072 
<a name="l00076"></a><a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya4" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya4">00076</a> Vector <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya4" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistorya4">IteratedExtendedKalmanFilterHistory::GetIterationHistory</a>()
00077 {
00078         Vector returnVector;
00079         Vector rightSize(m_TimeHistory.size());
00080         
00081         returnVector.initialize(rightSize); 
00082         
00083         <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii = 1; ii &lt; m_TimeHistory.size(); ii++ )
00084         {
00085                 returnVector(MatrixIndexBase + ii) = <a class="code" href="classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistoryr0" tppabs="http://dsacss.sourceforge.net/classIteratedExtendedKalmanFilterHistory.html#IteratedExtendedKalmanFilterHistoryr0">m_iekfIterationHistory</a>[ii];
00086         }
00087         
00088         <span class="keywordflow">return</span> returnVector;
00089 }
00090 
00091 
00092 
00093 
00094 
00095 
00096 
00097 <span class="comment">// Do not change the comments below - they will be added automatically by CVS</span>
00098 <span class="comment">/*****************************************************************************</span>
00099 <span class="comment">*       $Log: IteratedExtendedKalmanFilterHistory.cpp,v $</span>
00100 <span class="comment">*       Revision 1.3  2003/11/01 21:00:14  rsharo</span>
00101 <span class="comment">*       changed "Time.h" includes to "utils/Time.h" includes. Also eliminated excess compile warnings.</span>
00102 <span class="comment">*       </span>
00103 <span class="comment">*       Revision 1.2  2003/07/12 19:01:23  simpliciter</span>
00104 <span class="comment">*       Fixed runtime error.</span>
00105 <span class="comment">*       </span>
00106 <span class="comment">*       Revision 1.1  2003/07/12 17:55:51  simpliciter</span>
00107 <span class="comment">*       Initial submission.</span>
00108 <span class="comment">*       </span>
00109 <span class="comment">*       </span>
00110 <span class="comment">*</span>
00111 <span class="comment">******************************************************************************/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 11:49:54 2004 for DSACSS Operational Code by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.png" tppabs="http://dsacss.sourceforge.net/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
