<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DSACSS Operational Code: MomentumWheel.cpp Source File</title>
<link href="doxygen.css" tppabs="http://dsacss.sourceforge.net/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<h1>MomentumWheel.cpp</h1><a href="MomentumWheel_8cpp.html" tppabs="http://dsacss.sourceforge.net/MomentumWheel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 
00008 
00010 
00011 
00012 
00013 <span class="preprocessor">#include "<a class="code" href="MomentumWheel_8h.html" tppabs="http://dsacss.sourceforge.net/MomentumWheel_8h.html">MomentumWheel.h</a>"</span>
00014 <span class="preprocessor">#include "<a class="code" href="Misc_8h.html" tppabs="http://dsacss.sourceforge.net/Misc_8h.html">Misc.h</a>"</span>
00015 <span class="preprocessor">#include "<a class="code" href="CfgParse_8h.html" tppabs="http://dsacss.sourceforge.net/CfgParse_8h.html">CfgParse.h</a>"</span>
00016 
<a name="l00017"></a><a class="code" href="classMomentumWheel.html#MomentumWheelv0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelv0">00017</a> <span class="keywordtype">int</span> <a class="code" href="classMomentumWheel.html#MomentumWheelv0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelv0">MomentumWheel::wheelCount</a> = 0;
00018 
00020 <span class="comment">// Construction/Destruction</span>
00022 <span class="comment"></span>
<a name="l00023"></a><a class="code" href="classMomentumWheel.html#MomentumWheela0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela0">00023</a> <a class="code" href="classMomentumWheel.html#MomentumWheela0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela0">MomentumWheel::MomentumWheel</a>()
00024 {
00025         ++<a class="code" href="classMomentumWheel.html#MomentumWheelv0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelv0">wheelCount</a>;
00026 }
00027 
<a name="l00028"></a><a class="code" href="classMomentumWheel.html#MomentumWheela2" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela2">00028</a> <a class="code" href="classMomentumWheel.html#MomentumWheela2" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela2">MomentumWheel::~MomentumWheel</a>()
00029 {
00030         cout &lt;&lt; <span class="stringliteral">"Motor Voltage Check:  "</span> &lt;&lt; <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela24" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela24">GetVolts</a>() &lt;&lt; <span class="stringliteral">" V\n"</span>;
00031         --<a class="code" href="classMomentumWheel.html#MomentumWheelv0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelv0">wheelCount</a>;
00032         <a class="code" href="classMomentumWheel.html#MomentumWheela9" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela9">Stop</a>();
00033 
00034         <a class="code" href="classMomentumWheel.html#MomentumWheela11" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela11">Deinitialize</a>();
00035         cout &lt;&lt; <span class="stringliteral">"WheelCount:"</span> &lt;&lt;  <a class="code" href="classMomentumWheel.html#MomentumWheelv0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelv0">wheelCount</a> &lt;&lt; endl;
00036 }
00037 
00039 <span class="comment">//  Facilitators</span>
00041 <span class="comment"></span>
<a name="l00042"></a><a class="code" href="classMomentumWheel.html#MomentumWheela3" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela3">00042</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela3" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela3">MomentumWheel::SetWheelSpeed</a>(<span class="keywordtype">double</span> wheelOmega)
00043 {
00044         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela4" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela4">CommandWheelSpeed</a>(wheelOmega);
00045 }
00046 
<a name="l00047"></a><a class="code" href="classMomentumWheel.html#MomentumWheela4" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela4">00047</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela4" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela4">MomentumWheel::StopPID</a>()
00048 {
00049         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela5" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela5">StopPID</a>();
00050 }
00051 
<a name="l00052"></a><a class="code" href="classMomentumWheel.html#MomentumWheela5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela5">00052</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela5">MomentumWheel::StartSpeedQuery</a>()
00053 {
00054         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela6" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela6">StartSpeedQuery</a>();
00055 }
00056 
<a name="l00057"></a><a class="code" href="classMomentumWheel.html#MomentumWheela6" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela6">00057</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela6" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela6">MomentumWheel::StopSpeedQuery</a>()
00058 {
00059         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela7" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela7">StopSpeedQuery</a>();
00060 }
00061 
<a name="l00062"></a><a class="code" href="classMomentumWheel.html#MomentumWheela7" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela7">00062</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela7" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela7">MomentumWheel::SetWheelTorque</a>(<span class="keywordtype">double</span> wheelTorque)
00063 {
00064         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela2" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela2">CommandWheelTorque</a>(wheelTorque);
00065 }
00066 
<a name="l00067"></a><a class="code" href="classMomentumWheel.html#MomentumWheela8" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela8">00067</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela8" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela8">MomentumWheel::SetSystemTorque</a>(<span class="keywordtype">double</span> wheelTorque)
00068 {
00069         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela3" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela3">CommandSystemTorque</a>(wheelTorque);
00070 }
00071 
<a name="l00072"></a><a class="code" href="classMomentumWheel.html#MomentumWheela10" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela10">00072</a> <span class="keywordtype">int</span> <a class="code" href="classMomentumWheel.html#MomentumWheela10" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela10">MomentumWheel::Initialize</a>()
00073 {
00074         <span class="comment">//string port;</span>
00075         <span class="comment">//port = "USB0";</span>
00076         <span class="comment">//m_PhysicalMomentumWheel.SetDaisyChainPort(port);</span>
00077         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela10" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela10">Initialize</a>();
00078         <span class="keywordflow">return</span> 0;
00079 }
00080 
<a name="l00081"></a><a class="code" href="classMomentumWheel.html#MomentumWheela12" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela12">00081</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela12" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela12">MomentumWheel::SetWheelAddress</a>(<span class="keywordtype">int</span> wheeladdress)
00082 {
00083         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela14" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela14">SetWheelAddress</a>(wheeladdress);
00084 }
00085 
00086 
<a name="l00087"></a><a class="code" href="classMomentumWheel.html#MomentumWheela1" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela1">00087</a> <a class="code" href="classMomentumWheel.html#MomentumWheela0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela0">MomentumWheel::MomentumWheel</a>(<a class="code" href="structcfgBody.html" tppabs="http://dsacss.sourceforge.net/structcfgBody.html">cfgBody</a>&amp; cfgdat) {
00088 
00089         ++<a class="code" href="classMomentumWheel.html#MomentumWheelv0" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelv0">wheelCount</a>;
00090         
00091   <span class="keyword">const</span> <span class="keywordtype">char</span> *myCommands[20] = {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"DaisyChain"</span>, <span class="stringliteral">"DCAddr"</span>, <span class="stringliteral">"DCPort"</span>,
00092     <span class="stringliteral">"Limits"</span>, <span class="stringliteral">"Axis"</span>, <span class="stringliteral">"Is"</span>,<span class="stringliteral">"BiasSpeed"</span>};
00093   Vector tmpVec(3);
00094 
00095   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo3" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo3">keys</a>[i][0]; i++) {
00096     <span class="keywordflow">switch</span>(<a class="code" href="Misc_8cpp.html#a3" tppabs="http://dsacss.sourceforge.net/Misc_8cpp.html#a3">getCmdIndex</a>(myCommands, cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo3" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo3">keys</a>[i])) {
00097       <span class="keywordflow">case</span> 0:
00098 <span class="comment">//      name = cfgdat.vals[i][0];</span>
00099         <span class="keywordflow">break</span>;
00100       <span class="keywordflow">case</span> 1:
00101 <span class="comment">//      m_PhysicalMomentumWheel.SetDaisyChainNumber(atoi(cfgdat.vals[i][0]));</span>
00102         <span class="keywordflow">break</span>;
00103       <span class="keywordflow">case</span> 2:
00104 <span class="comment">//      m_PhysicalMomentumWheel.SetWheelAddress(atoi(cfgdat.vals[i][0]));</span>
00105         <span class="keywordflow">break</span>;
00106       <span class="keywordflow">case</span> 3:
00107         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela16" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela16">SetDaisyChainPort</a>(string(cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][0]));
00108         <span class="keywordflow">break</span>;
00109       <span class="keywordflow">case</span> 4:
00110         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela12" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela12">SetWheelTorqueLimits</a>(atoi(cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][0]),
00111           atoi(cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][1]));
00112         <span class="keywordflow">break</span>;
00113       <span class="keywordflow">case</span> 5:
00114         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3 &amp;&amp; cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][j][0];j++)
00115           tmpVec(j+1) = atof(cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][j]);
00116          <a class="code" href="classMomentumWheel.html#MomentumWheela13" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela13">SetWheelAxis</a>(tmpVec);
00117          <span class="keywordflow">break</span>;
00118         <span class="keywordflow">case</span> 6:
00119           <a class="code" href="classMomentumWheel.html#MomentumWheelr3" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr3">m_AxialInertia</a> = atof(cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][0]);
00120          <span class="keywordflow">break</span>;
00121         <span class="keywordflow">case</span> 7:
00122           <a class="code" href="classMomentumWheel.html#MomentumWheelr4" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr4">m_BiasSpeed</a> = atof(cfgdat.<a class="code" href="structcfgBody.html#cfgBodyo4" tppabs="http://dsacss.sourceforge.net/structcfgBody.html#cfgBodyo4">vals</a>[i][0]);
00123           <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela17" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela17">SetBiasSpeed</a>(<a class="code" href="classMomentumWheel.html#MomentumWheelr4" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr4">m_BiasSpeed</a>);
00124         <span class="keywordflow">break</span>;  
00125         
00126         <span class="keywordflow">default</span>:
00127         <span class="keywordflow">break</span>;
00128         
00129     }
00130   }
00131   
00132   <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela10" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela10">Initialize</a>();
00133   
00134 }
00135 
<a name="l00136"></a><a class="code" href="classMomentumWheel.html#MomentumWheela11" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela11">00136</a> <span class="keywordtype">int</span> <a class="code" href="classMomentumWheel.html#MomentumWheela11" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela11">MomentumWheel::Deinitialize</a>()
00137 {
00138     <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela11" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela11">Deinitialize</a>();
00139    <span class="keywordflow">return</span> 0;
00140 }
00141 
<a name="l00142"></a><a class="code" href="classMomentumWheel.html#MomentumWheela9" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela9">00142</a> <span class="keywordtype">int</span> <a class="code" href="classMomentumWheel.html#MomentumWheela9" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela9">MomentumWheel::Stop</a>()
00143 {
00144    <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela9" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela9">Stop</a>();
00145    <span class="keywordflow">return</span> 0;
00146 }
00147 
00148 
00150 <span class="comment">//Mutators</span>
00152 <span class="comment"></span>
00153 
<a name="l00154"></a><a class="code" href="classMomentumWheel.html#MomentumWheela13" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela13">00154</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela13" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela13">MomentumWheel::SetWheelAxis</a>(<span class="keyword">const</span> Vector&amp; newWheelAxis) 
00155 {
00156     <a class="code" href="classMomentumWheel.html#MomentumWheelr2" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr2">m_WheelAxis</a> = newWheelAxis;
00157 }
00158 
<a name="l00159"></a><a class="code" href="classMomentumWheel.html#MomentumWheela14" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela14">00159</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela14" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela14">MomentumWheel::SetPort</a>(string Port)
00160 {
00161         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela16" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela16">SetDaisyChainPort</a>(Port);
00162 }
00163 
<a name="l00164"></a><a class="code" href="classMomentumWheel.html#MomentumWheela15" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela15">00164</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela15" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela15">MomentumWheel::SetBiasSpeed</a>(<span class="keywordtype">double</span> BiasSpeed)
00165 {
00166         <a class="code" href="classMomentumWheel.html#MomentumWheelr4" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr4">m_BiasSpeed</a> = BiasSpeed;
00167         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela17" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela17">SetBiasSpeed</a>(BiasSpeed);
00168 }
00169 
00171 <span class="comment">//Inspectors</span>
00173 <span class="comment"></span>
00174 
<a name="l00175"></a><a class="code" href="classMomentumWheel.html#MomentumWheela16" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela16">00175</a> <span class="keywordtype">void</span> <a class="code" href="classMomentumWheel.html#MomentumWheela16" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela16">MomentumWheel::GetWheelSpeed</a>(<span class="keywordtype">double</span>&amp; Speed, <span class="keywordtype">double</span>&amp; measTime) 
00176 {
00177         <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela18" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela18">GetWheelSpeed</a>(Speed, measTime);
00178 }
00179 
00180 
<a name="l00181"></a><a class="code" href="classMomentumWheel.html#MomentumWheela17" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela17">00181</a> <span class="keywordtype">double</span> <a class="code" href="classMomentumWheel.html#MomentumWheela17" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela17">MomentumWheel::GetWheelTorque</a>()
00182 {
00183         <a class="code" href="classMomentumWheel.html#MomentumWheelr1" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr1">m_CurrentWheelTorque</a> = <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela19" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela19">QueryWheelTorque</a>();
00184         <span class="keywordflow">return</span> <a class="code" href="classMomentumWheel.html#MomentumWheelr1" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr1">m_CurrentWheelTorque</a>;
00185 }
00186 
<a name="l00187"></a><a class="code" href="classMomentumWheel.html#MomentumWheela18" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela18">00187</a> Vector <a class="code" href="classMomentumWheel.html#MomentumWheela18" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela18">MomentumWheel::GetWheelAxis</a>()<span class="keyword"> const </span>
00188 <span class="keyword"></span>{
00189         <span class="keywordflow">return</span> <a class="code" href="classMomentumWheel.html#MomentumWheelr2" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr2">m_WheelAxis</a>;
00190 }
00191 
<a name="l00192"></a><a class="code" href="classMomentumWheel.html#MomentumWheela21" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela21">00192</a> <span class="keywordtype">int</span> <a class="code" href="classMomentumWheel.html#MomentumWheela21" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela21">MomentumWheel::GetWheelFD</a>()
00193 {
00194         <span class="keywordflow">return</span> <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela22" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela22">GetWheelFD</a>();
00195 }
00196 
<a name="l00197"></a><a class="code" href="classMomentumWheel.html#MomentumWheela22" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela22">00197</a> <span class="keywordtype">double</span> <a class="code" href="classMomentumWheel.html#MomentumWheela22" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela22">MomentumWheel::GetAmps</a>()
00198 {
00199         <span class="keywordflow">return</span> <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela23" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela23">GetAmps</a>();
00200 }
00201 
<a name="l00202"></a><a class="code" href="classMomentumWheel.html#MomentumWheela23" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela23">00202</a> <span class="keywordtype">double</span> <a class="code" href="classMomentumWheel.html#MomentumWheela23" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheela23">MomentumWheel::GetVolts</a>()
00203 {
00204         <span class="keywordflow">return</span> <a class="code" href="classMomentumWheel.html#MomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html#MomentumWheelr5">m_PhysicalMomentumWheel</a>.<a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela24" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela24">GetVolts</a>();
00205 }
00206 
00207 <span class="comment">// Do not change the comments below - they will be added automatically by CVS</span>
00208 <span class="comment">/*****************************************************************************</span>
00209 <span class="comment">*       $Log: MomentumWheel.cpp,v $</span>
00210 <span class="comment">*       Revision 1.30  2004/05/11 20:18:08  bstreetman</span>
00211 <span class="comment">*       Vast improvements to torque controller</span>
00212 <span class="comment">*       </span>
00213 <span class="comment">*       Revision 1.29  2004/04/19 15:00:38  bstreetman</span>
00214 <span class="comment">*       Fixed a config and a shutdown bug</span>
00215 <span class="comment">*       </span>
00216 <span class="comment">*       Revision 1.28  2004/03/04 23:13:08  bstreetman</span>
00217 <span class="comment">*       Big changes! new functions and functionality.  FUnctions: GetVolts() -- get motor voltage.  GetAmps() -- ge current used by motors.  GetWheelFD() -- get the wheel comm file descriptor.  SetBiasSpeed() -- Set the bias speed used in momentum wheel mode.  SetSystemTorque() -- old style torque function, used mainly by me.  friend RUnTorqueCOntroller() -- new torque controller, runs in a separate thread.  StartTorqueController() -- spawns torque thread, called internally.  Other Changes:  config parameters -- added BiasSpeed confige parameter, sets bias speed and commands the wheel to go there.  SetWheelSpeed() -- no more PID controller, uses a function created by the data i took.  SetWHeelTorque() -- happens in a better way now based on tons of data and hdot = g.</span>
00218 <span class="comment">*       </span>
00219 <span class="comment">*       Revision 1.27  2003/12/16 17:20:26  bstreetman</span>
00220 <span class="comment">*       A bit o' fall cleaning.  Just look at how pretty it is.</span>
00221 <span class="comment">*       </span>
00222 <span class="comment">*       Revision 1.26  2003/11/14 20:15:44  bstreetman</span>
00223 <span class="comment">*       Apparently I broke the PID controller with the last update, but now it works again.  I also added a StopPID() function to end the thread of the PID controller.  To spin up to 900 rpm (about half speed) use SetWheelSpedd(92).  If you wnat to then switch to torque control sleep for about 12 seconds and run StopPID() and you should be good to go.</span>
00224 <span class="comment">*       </span>
00225 <span class="comment">*       Revision 1.25  2003/10/17 20:01:34  bstreetman</span>
00226 <span class="comment">*       Wheel code updated to reflect hardware changes.  All wheels now considered on separate serial port.  Wheels also changed to read wheel velocity in a separate thread.  Thread is fired off by StartSpeedQuery() function.  Wheel Speed and measurement timestamp are set by the function GetWheelSpeed(speed, time).  See SpeedTest.cpp in the work directory for a sample using the new code.</span>
00227 <span class="comment">*       </span>
00228 <span class="comment">*       Revision 1.24  2003/09/15 21:44:03  bstreetman</span>
00229 <span class="comment">*       Removed hardcoded parameters, ready for pure config file use</span>
00230 <span class="comment">*       </span>
00231 <span class="comment">*       Revision 1.23  2003/08/18 19:30:43  mavandyk</span>
00232 <span class="comment">*       Fixed config parsing.</span>
00233 <span class="comment">*       </span>
00234 <span class="comment">*       Revision 1.22  2003/08/06 21:18:48  bstreetman</span>
00235 <span class="comment">*       Updated to work with config parser</span>
00236 <span class="comment">*       </span>
00237 <span class="comment">*       Revision 1.21  2003/08/04 18:11:35  bstreetman</span>
00238 <span class="comment">*       Updated port locations</span>
00239 <span class="comment">*       </span>
00240 <span class="comment">*       Revision 1.20  2003/08/01 20:21:20  bstreetman</span>
00241 <span class="comment">*       Cleaned and streamlined all code. Reduced warning and outputs. CMG and Momentum Wheels now no longer accept a global integer in initialization.  The file descriptor is now set and held internally.</span>
00242 <span class="comment">*       </span>
00243 <span class="comment">*       Revision 1.19  2003/07/28 17:54:00  bstreetman</span>
00244 <span class="comment">*       Change some pass-by-reference to pass-by-value</span>
00245 <span class="comment">*       </span>
00246 <span class="comment">*       Revision 1.18  2003/07/21 20:15:30  bstreetman</span>
00247 <span class="comment">*       Updates</span>
00248 <span class="comment">*       </span>
00249 <span class="comment">*       Revision 1.17  2003/07/18 19:51:18  cakinli</span>
00250 <span class="comment">*       Fixed file footer.</span>
00251 <span class="comment">*       </span>
00252 <span class="comment">*       Revision 1.2  2003/06/27 19:52:14  bstreetman</span>
00253 <span class="comment">*       Defined all remaining functions and updated their implementations.</span>
00254 <span class="comment">*       </span>
00255 <span class="comment">*       Revision 1.1.1.1  2003/06/06 18:44:15  simpliciter</span>
00256 <span class="comment">*       Initial submission.</span>
00257 <span class="comment">*       </span>
00258 <span class="comment">*</span>
00259 <span class="comment">******************************************************************************/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 11:49:54 2004 for DSACSS Operational Code by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.png" tppabs="http://dsacss.sourceforge.net/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
