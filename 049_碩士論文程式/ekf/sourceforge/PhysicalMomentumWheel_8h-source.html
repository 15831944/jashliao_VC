<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DSACSS Operational Code: PhysicalMomentumWheel.h Source File</title>
<link href="doxygen.css" tppabs="http://dsacss.sourceforge.net/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<h1>PhysicalMomentumWheel.h</h1><a href="PhysicalMomentumWheel_8h.html" tppabs="http://dsacss.sourceforge.net/PhysicalMomentumWheel_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/************************************************************************************************/</span>
00002 <span class="comment">//SubInclude DSACSSROOT src Base ;</span>
00013 <span class="comment"></span><span class="preprocessor">#ifndef __SSSL_PHYSICALMOMENTUMWHEEL_H__</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define __SSSL_PHYSICALMOMENTUMWHEEL_H__</span>
00015 <span class="preprocessor"></span>
00016 <span class="preprocessor">#include "<a class="code" href="Actuator_8h.html" tppabs="http://dsacss.sourceforge.net/Actuator_8h.html">Actuator.h</a>"</span>
00017 <span class="preprocessor">#include "Matrix.h"</span>
00018 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
00019 <span class="preprocessor">#include &lt;string&gt;</span>
00020 <span class="preprocessor">#include &lt;sstream&gt;</span>
00021 <span class="preprocessor">#include &lt;sys/time.h&gt;</span>
00022 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00023 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
00024 <span class="preprocessor">#include &lt;sys/fcntl.h&gt;</span>
00025 <span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span>
00026 <span class="preprocessor">#include &lt;asm/ioctls.h&gt;</span>
00027 <span class="preprocessor">#include &lt;bits/types.h&gt;</span>
00028 
00029 <span class="keyword">extern</span> <span class="stringliteral">"C"</span>
00030 {
00031 <span class="preprocessor">#include "<a class="code" href="satctl_8h.html" tppabs="http://dsacss.sourceforge.net/satctl_8h.html">satctl.h</a>"</span>
00032 }
00033 <span class="keyword">extern</span> <span class="stringliteral">"C"</span>
00034 {
00035 <span class="preprocessor">#include "<a class="code" href="common_8h.html" tppabs="http://dsacss.sourceforge.net/common_8h.html">common.h</a>"</span>
00036 }
00037 
00038 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00039 <span class="keyword">using</span> <span class="keyword">namespace </span>O_SESSAME;
00040 
<a name="l00042"></a><a class="code" href="classPhysicalMomentumWheel.html" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html">00042</a> <span class="keyword">class </span><a class="code" href="classPhysicalMomentumWheel.html" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html">PhysicalMomentumWheel</a> : <span class="keyword">public</span> <a class="code" href="classActuator.html" tppabs="http://dsacss.sourceforge.net/classActuator.html">Actuator</a>  
00043 {
00044 <span class="keyword">public</span>:
00045     <span class="comment">// Contructors/Deconstructors</span>
00046 
00048     <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela0" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela0">PhysicalMomentumWheel</a>();
00049 
00051     <span class="keyword">virtual</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela1" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela1">~PhysicalMomentumWheel</a>();
00052 
00053     <span class="comment">// Facilitators</span>
00054 
00057     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela2" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela2">CommandWheelTorque</a>(<span class="keywordtype">double</span> _wheelTorque);
00058 
00061     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela3" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela3">CommandSystemTorque</a>(<span class="keywordtype">double</span> wheelTorque);
00062 
00065     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela4" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela4">CommandWheelSpeed</a>(<span class="keywordtype">double</span> desiredWheelSpeed);
00066         
00068         <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela5" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela5">StopPID</a>();
00069         
00073         <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela6" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela6">StartSpeedQuery</a>();
00074         
00077         <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela7" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela7">StopSpeedQuery</a>();
00078 
00080         <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela8" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela8">StartTorqueController</a>();
00081         
00082 
00084     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela9" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela9">Stop</a>();
00085 
00087     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela10" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela10">Initialize</a>();
00088 
00090     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela11" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela11">Deinitialize</a>();
00091 
00092     <span class="comment">// Mutators</span>
00093     
00097     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela12" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela12">SetWheelTorqueLimits</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; minWheelTorque, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; maxWheelTorque);
00098 
00101     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela13" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela13">SetMaxTorqueStep</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> maxTorqueStep);
00102 
00105     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela14" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela14">SetWheelAddress</a>(<span class="keywordtype">int</span> WheelAddress);
00106 
00108     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela15" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela15">SetDaisyChainNumber</a>(<span class="keywordtype">int</span> DaisyChainNumber);
00109 
00112     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela16" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela16">SetDaisyChainPort</a>(string DaisyChainPort);
00113     
00115     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela17" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela17">SetBiasSpeed</a>(<span class="keywordtype">double</span> BiasSpeed);
00116     
00117     <span class="comment">// Inspectors</span>
00118 
00122    <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela18" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela18">GetWheelSpeed</a>(<span class="keywordtype">double</span>&amp; Speed, <span class="keywordtype">double</span>&amp; measTime);
00123 
00125     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela19" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela19">QueryWheelTorque</a>();
00126         
00130     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela20" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela20">GetWheelTorqueLimits</a>(<span class="keywordtype">double</span>&amp; minWheelTorque, <span class="keywordtype">double</span>&amp; maxWheelTorque);
00131 
00133     <span class="keywordtype">void</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela21" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela21">GetMaxTorqueStep</a>(<span class="keywordtype">double</span>&amp; maxTorqueStep);
00134         
00136         <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela22" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela22">GetWheelFD</a>();
00137         
00139         <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela23" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela23">GetAmps</a>();
00140 
00142         <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheela24" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheela24">GetVolts</a>();
00143 
00144 <span class="keyword">protected</span>: 
00145     
00146     
00147 <span class="keyword">private</span>:
<a name="l00149"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr0" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr0">00149</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr0" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr0">m_CurrentWheelSpeed</a>;
00150         
<a name="l00152"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr1" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr1">00152</a>         <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr1" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr1">m_VelocityTime</a>;
00153 
<a name="l00155"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr2" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr2">00155</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr2" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr2">m_DesiredWheelSpeed</a>;
00156     
<a name="l00158"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr3" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr3">00158</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr3" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr3">m_MaxWheelTorque</a>;
00159 
<a name="l00161"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr4" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr4">00161</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr4" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr4">m_MinWheelTorque</a>;
00162 
<a name="l00164"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr5">00164</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr5" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr5">m_CurrentWheelTorque</a>;
00165 
<a name="l00167"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr6" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr6">00167</a>         <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr6" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr6">m_DesiredWheelTorque</a>;
00168 
00169     <span class="comment">//PID control holders</span>
<a name="l00171"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr7" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr7">00171</a> <span class="comment"></span>    <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr7" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr7">LAST_VEL</a>;
00172 
<a name="l00174"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr8" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr8">00174</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr8" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr8">LAST_TOR</a>;
00175 
<a name="l00177"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr9" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr9">00177</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr9" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr9">LAST_ERR</a>;
00178         
<a name="l00179"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr10" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr10">00179</a>         <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr10" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr10">LAST_VOLT</a>;
00180     
<a name="l00182"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr11" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr11">00182</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr11" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr11">m_MaxTorqueStep</a>;
00183 
<a name="l00185"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr12" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr12">00185</a>     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr12" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr12">m_WheelAddress</a>;
00186 
<a name="l00188"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr13" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr13">00188</a>     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr13" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr13">m_DaisyChainNumber</a>;
00189 
<a name="l00191"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr14" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr14">00191</a>     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr14" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr14">m_fd</a>;
00192         
<a name="l00194"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr15" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr15">00194</a>         <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr15" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr15">TCflag</a>;
00195     
<a name="l00197"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr16" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr16">00197</a>     <span class="keywordtype">int</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr16" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr16">BiasFlag</a>;
00198 
<a name="l00200"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr17" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr17">00200</a>     string <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr17" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr17">m_DaisyChainPort</a>;
00201 
<a name="l00203"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr18" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr18">00203</a>     pthread_t <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr18" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr18">m_PIDThreadID</a>;
00204         
<a name="l00206"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr19" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr19">00206</a>     pthread_t <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr19" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr19">m_SpeedThreadID</a>;
00207 
<a name="l00209"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr20" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr20">00209</a>     pthread_t <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr20" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr20">m_TorqueThreadID</a>;
00210 
<a name="l00212"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr21" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr21">00212</a>     <span class="keywordtype">double</span> <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr21" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr21">m_BiasSpeed</a>;
00213     
<a name="l00215"></a><a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr22" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr22">00215</a>     pthread_mutex_t <a class="code" href="classPhysicalMomentumWheel.html#PhysicalMomentumWheelr22" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#PhysicalMomentumWheelr22">m_Mutex</a>;
00216     
00220     <span class="keyword">friend</span> <span class="keywordtype">void</span>* <a class="code" href="classPhysicalMomentumWheel.html#a0" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#a0">RunPIDController</a>(<span class="keywordtype">void</span>* arg);
00221         
00225     <span class="keyword">friend</span> <span class="keywordtype">void</span>* <a class="code" href="classPhysicalMomentumWheel.html#a1" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#a1">QueryWheelSpeed</a>(<span class="keywordtype">void</span>* arg);
00226 
00230     <span class="keyword">friend</span> <span class="keywordtype">void</span>* <a class="code" href="classPhysicalMomentumWheel.html#a2" tppabs="http://dsacss.sourceforge.net/classPhysicalMomentumWheel.html#a2">RunTorqueController</a>(<span class="keywordtype">void</span>* arg);
00231 
00232 };
00233 
00234 <span class="preprocessor">#endif </span>
00235 <span class="preprocessor"></span><span class="comment">// Do not change the comments below - they will be added automatically by CVS</span>
00236 <span class="comment">/*****************************************************************************</span>
00237 <span class="comment">*       $Log: PhysicalMomentumWheel.h,v $</span>
00238 <span class="comment">*       Revision 1.28  2004/05/11 20:18:09  bstreetman</span>
00239 <span class="comment">*       Vast improvements to torque controller</span>
00240 <span class="comment">*       </span>
00241 <span class="comment">*       Revision 1.27  2004/04/19 15:00:41  bstreetman</span>
00242 <span class="comment">*       Fixed a config and a shutdown bug</span>
00243 <span class="comment">*       </span>
00244 <span class="comment">*       Revision 1.26  2004/03/18 18:08:17  bstreetman</span>
00245 <span class="comment">*       Further Fixes on the torque controller</span>
00246 <span class="comment">*       </span>
00247 <span class="comment">*       Revision 1.25  2004/03/15 21:58:31  bstreetman</span>
00248 <span class="comment">*       Fixed a multible multi-thread issue.</span>
00249 <span class="comment">*       </span>
00250 <span class="comment">*       Revision 1.24  2004/03/04 23:13:09  bstreetman</span>
00251 <span class="comment">*       Big changes! new functions and functionality.  FUnctions: GetVolts() -- get motor voltage.  GetAmps() -- ge current used by motors.  GetWheelFD() -- get the wheel comm file descriptor.  SetBiasSpeed() -- Set the bias speed used in momentum wheel mode.  SetSystemTorque() -- old style torque function, used mainly by me.  friend RUnTorqueCOntroller() -- new torque controller, runs in a separate thread.  StartTorqueController() -- spawns torque thread, called internally.  Other Changes:  config parameters -- added BiasSpeed confige parameter, sets bias speed and commands the wheel to go there.  SetWheelSpeed() -- no more PID controller, uses a function created by the data i took.  SetWHeelTorque() -- happens in a better way now based on tons of data and hdot = g.</span>
00252 <span class="comment">*       </span>
00253 <span class="comment">*       Revision 1.23  2003/12/16 17:20:26  bstreetman</span>
00254 <span class="comment">*       A bit o' fall cleaning.  Just look at how pretty it is.</span>
00255 <span class="comment">*       </span>
00256 <span class="comment">*       Revision 1.22  2003/11/14 20:15:44  bstreetman</span>
00257 <span class="comment">*       Apparently I broke the PID controller with the last update, but now it works again.  I also added a StopPID() function to end the thread of the PID controller.  To spin up to 900 rpm (about half speed) use SetWheelSpedd(92).  If you wnat to then switch to torque control sleep for about 12 seconds and run StopPID() and you should be good to go.</span>
00258 <span class="comment">*       </span>
00259 <span class="comment">*       Revision 1.21  2003/10/17 20:01:34  bstreetman</span>
00260 <span class="comment">*       Wheel code updated to reflect hardware changes.  All wheels now considered on separate serial port.  Wheels also changed to read wheel velocity in a separate thread.  Thread is fired off by StartSpeedQuery() function.  Wheel Speed and measurement timestamp are set by the function GetWheelSpeed(speed, time).  See SpeedTest.cpp in the work directory for a sample using the new code.</span>
00261 <span class="comment">*       </span>
00262 <span class="comment">*       Revision 1.20  2003/09/15 21:44:03  bstreetman</span>
00263 <span class="comment">*       Removed hardcoded parameters, ready for pure config file use</span>
00264 <span class="comment">*       </span>
00265 <span class="comment">*       Revision 1.19  2003/08/18 21:30:20  bstreetman</span>
00266 <span class="comment">*       PID controller now functions properly in multiple threads. RunPIDController() now a non-member friend funciton</span>
00267 <span class="comment">*       </span>
00268 <span class="comment">*       Revision 1.17  2003/08/04 21:25:23  bstreetman</span>
00269 <span class="comment">*       Now with doxygen-style comments</span>
00270 <span class="comment">*       </span>
00271 <span class="comment">*       Revision 1.16  2003/08/01 20:21:20  bstreetman</span>
00272 <span class="comment">*       Cleaned and streamlined all code. Reduced warning and outputs. CMG and Momentum Wheels now no longer accept a global integer in initialization.  The file descriptor is now set and held internally.</span>
00273 <span class="comment">*       </span>
00274 <span class="comment">*       Revision 1.15  2003/07/28 21:08:00  bstreetman</span>
00275 <span class="comment">*       Now with PID controller, gains not perfect yet.  RUns fine, just slow getting the wheels up to speed</span>
00276 <span class="comment">*       </span>
00277 <span class="comment">*       Revision 1.14  2003/07/21 20:15:30  bstreetman</span>
00278 <span class="comment">*       Updates</span>
00279 <span class="comment">*       </span>
00280 <span class="comment">*       Revision 1.13  2003/07/21 18:28:28  cskelton</span>
00281 <span class="comment">*       Current copies</span>
00282 <span class="comment">*       </span>
00283 <span class="comment">*       Revision 1.12  2003/07/09 20:24:33  cskelton</span>
00284 <span class="comment">*       Corrected Initialization and Deconstruction</span>
00285 <span class="comment">*       </span>
00286 <span class="comment">*       Revision 1.11  2003/07/07 19:34:08  cskelton</span>
00287 <span class="comment">*       Removed virtual from functions</span>
00288 <span class="comment">*       </span>
00289 <span class="comment">*       Revision 1.10  2003/07/04 16:01:31  nicmcp</span>
00290 <span class="comment">*       took out the Axial inertia and added it to Momentumwheel.h</span>
00291 <span class="comment">*       </span>
00292 <span class="comment">*       Revision 1.9  2003/07/02 22:02:12  bstreetman</span>
00293 <span class="comment">*       Improve functionality and made to work with the c hardware code.</span>
00294 <span class="comment">*       </span>
00295 <span class="comment">*       Revision 1.8  2003/07/01 19:56:09  cskelton</span>
00296 <span class="comment">*       Added Hardware software support</span>
00297 <span class="comment">*       </span>
00298 <span class="comment">*       Revision 1.7  2003/07/01 19:19:43  cskelton</span>
00299 <span class="comment">*       Debugged to compile</span>
00300 <span class="comment">*       </span>
00301 <span class="comment">*       Revision 1.6  2003/07/01 16:00:23  bstreetman</span>
00302 <span class="comment">*       Added CommandWheelSpeed function</span>
00303 <span class="comment">*       </span>
00304 <span class="comment">*       Revision 1.5  2003/06/30 21:04:57  cskelton</span>
00305 <span class="comment">*       INserted actual functions</span>
00306 <span class="comment">*       </span>
00307 <span class="comment">*       Revision 1.4  2003/06/30 18:47:12  cskelton</span>
00308 <span class="comment">*       Updated Functions</span>
00309 <span class="comment">*       </span>
00310 <span class="comment">*       Revision 1.3  2003/06/30 15:33:21  cskelton</span>
00311 <span class="comment">*       Now PMW dervived from Actuators</span>
00312 <span class="comment">*       </span>
00313 <span class="comment">*       Revision 1.2  2003/06/26 20:53:28  bstreetman</span>
00314 <span class="comment">*       Changed inputs of CommandWheelToque func</span>
00315 <span class="comment">*       </span>
00316 <span class="comment">*       Revision 1.1  2003/06/19 21:31:55  simpliciter</span>
00317 <span class="comment">*       Initial submission, upgrades from Andy's generic code.</span>
00318 <span class="comment">*       </span>
00319 <span class="comment">*       Revision 1.1  2003/06/13 15:24:33  simpliciter</span>
00320 <span class="comment">*       Initial submission.</span>
00321 <span class="comment">*       </span>
00322 <span class="comment">*</span>
00323 <span class="comment">******************************************************************************/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 11:49:54 2004 for DSACSS Operational Code by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.png" tppabs="http://dsacss.sourceforge.net/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
