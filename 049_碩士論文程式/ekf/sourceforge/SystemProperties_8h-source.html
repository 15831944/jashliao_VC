<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DSACSS Operational Code: SystemProperties.h Source File</title>
<link href="doxygen.css" tppabs="http://dsacss.sourceforge.net/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<h1>SystemProperties.h</h1><a href="SystemProperties_8h.html" tppabs="http://dsacss.sourceforge.net/SystemProperties_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 
00008 <span class="preprocessor">#ifndef SYSTEM_PROPERTIES_H</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#define SYSTEM_PROPERTIES_H</span>
00010 <span class="preprocessor"></span>
00011 <span class="preprocessor">#include "ace/Configuration.h"</span>
00012 <span class="preprocessor">#include "ace/Auto_Ptr.h"</span>
00013 <span class="preprocessor">#include &lt;vector&gt;</span>
00014 <span class="preprocessor">#include &lt;string&gt;</span>
00015 
00016 <span class="comment">//</span>
00017 <span class="comment">// The SystemProperties class provides access to key/value data</span>
00018 <span class="comment">// pairs that can be read from files or set from the program.</span>
00019 <span class="comment">//</span>
00020 <span class="comment">// The class is an extension of the ACE_Configuration interface</span>
00021 <span class="comment">// to improve usability.</span>
00022 <span class="comment">// SystemProperties can be read and written to files in two different formats.</span>
00023 <span class="comment">//</span>
00024 <span class="comment">//</span>
00025 <span class="comment">// An example of the INI format is as follows:</span>
00026 <span class="comment">//</span>
00027 <span class="comment">// [SectionName\SubsectionName\SubSubsectionName]</span>
00028 <span class="comment">// StringField                          =       stringValue</span>
00029 <span class="comment">//</span>
00030 <span class="comment">// # This is a comment.</span>
00031 <span class="comment">// HexIntegerField                      =       0xa1b2c3d4</span>
00032 <span class="comment">// DecimalIntegerField          =       100</span>
00033 <span class="comment">// OctalIntegerField            =       077</span>
00034 <span class="comment">// "6-byte binary field"        =       "a1, b2, c3, d4, e5, f6"</span>
00035 <span class="comment">// MyBoolean                            =       true</span>
00036 <span class="comment">// anotherBoolean                       =       No</span>
00037 <span class="comment">// "Yet Another Boolean"        =       1</span>
00038 <span class="comment">// DoubleFieldName                      =       3.1415</span>
00039 <span class="comment">//</span>
00040 <span class="comment">// Whitespace may be used to format INI-style files as long as the field names</span>
00041 <span class="comment">// start on the first character of a line. Whitespace must be quoted be be</span>
00042 <span class="comment">// interpreted as part of a field's name or value.</span>
00043 <span class="comment">//</span>
00044 <span class="comment">// </span>
00045 <span class="comment">// An example of the Registry format is as follows:</span>
00046 <span class="comment">//</span>
00047 <span class="comment">// [SectionName\SubsectionName\SubSubsectionName]</span>
00048 <span class="comment">// "A_StringField"="stringValue"</span>
00049 <span class="comment">// "An_IntegerField"=dword:a1b2c3d4</span>
00050 <span class="comment">//</span>
00051 <span class="comment">// # This is a comment.</span>
00052 <span class="comment">// "A_BinaryField"=hex:a1b2c3d4e5f6</span>
00053 <span class="comment">// "A BooleanField"="true"</span>
00054 <span class="comment">// "A_DoubleField"="3.1415"</span>
00055 <span class="comment">//</span>
00056 <span class="comment">// Registry-style files may not have any extra whitespace on a line.</span>
00057 <span class="comment">//</span>
00058 <span class="comment">// Note that Registry format only supports the valuetypes of INTEGER,</span>
00059 <span class="comment">// STRING, and BINARY. All fields read from an INI format file are</span>
00060 <span class="comment">// interpreted to have a valuetype of STRING. This class can coerce all</span>
00061 <span class="comment">// supported datatypes to and from strings, however.</span>
00062 <span class="comment">//</span>
<a name="l00063"></a><a class="code" href="classSystemProperties.html" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html">00063</a> <span class="keyword">class </span><a class="code" href="classSystemProperties.html" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html">SystemProperties</a> : <span class="keyword">public</span> ACE_Configuration_Heap
00064 {
00065 <span class="keyword">public</span>:
<a name="l00066"></a><a class="code" href="classSystemProperties.html#SystemPropertiesw0" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesw0">00066</a>         <span class="keyword">typedef</span> ACE_Configuration_Section_Key <a class="code" href="classSystemProperties.html#SystemPropertiesw0" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesw0">SectionKey_t</a>;
<a name="l00067"></a><a class="code" href="classSystemProperties.html#SystemPropertiesw1" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesw1">00067</a>         <span class="keyword">typedef</span> ACE_Configuration::VALUETYPE <a class="code" href="classSystemProperties.html#SystemPropertiesw1" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesw1">Valuetype_t</a>;
00068 
00069         <span class="comment">//</span>
00070         <span class="comment">// The default constructor. It constructs an empty SystemProperties object.</span>
00071         <a class="code" href="classSystemProperties.html#SystemPropertiesa0" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa0">SystemProperties</a>();
00072 
00073         <span class="comment">//</span>
00074         <span class="comment">// SystemProperties destructor.</span>
<a name="l00075"></a><a class="code" href="classSystemProperties.html#SystemPropertiesa1" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa1">00075</a>         <span class="keyword">virtual</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa1" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa1">~SystemProperties</a>() {}
00076 
00077         <span class="comment">//</span>
00078         <span class="comment">// Retrieve a singleton instance of the SystemProperties class.</span>
00079         <span class="comment">// When called for the first time, this method will attempt to open</span>
00080         <span class="comment">// and read the specified configuration file.  This file is presumed</span>
00081         <span class="comment">// to be in the form of an INI file unless the registryFormat</span>
00082         <span class="comment">// argument is set to true. If it is set to true, then the file</span>
00083         <span class="comment">// is presumed to be in (WIN32) registry format.  See ACE_Ini_ImpExp</span>
00084         <span class="comment">// and ACE_Registry_ImpExp for details on the file format.</span>
00085         <span class="keyword">static</span> <a class="code" href="classSystemProperties.html" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html">SystemProperties</a> *<a class="code" href="classSystemProperties.html#SystemPropertiese0" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiese0">Instance</a>(
00086                                                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *configFilename=<span class="stringliteral">"System.config"</span>,
00087                                                                 <span class="keywordtype">bool</span> registryFormat=<span class="keyword">false</span>);
00088 
00089         <span class="comment">//</span>
00090         <span class="comment">// Reads a string from the specified key in the properties.</span>
00091         <span class="comment">// If the section and key are found and can be read as a string,</span>
00092         <span class="comment">// then the value argument is set and the return value is zero.</span>
00093         <span class="comment">// Otherwise, the return value is -1.</span>
00094         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa2" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa2">GetStringEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00095                 std::string &amp;value);
00096         <span class="comment">//</span>
00097         <span class="comment">// Reads an intger from the specified key in the properties.</span>
00098         <span class="comment">// If the section and key are found and can be read as an integer,</span>
00099         <span class="comment">// then the value argument is set and the return value is zero.</span>
00100         <span class="comment">// Otherwise, the return value is -1.</span>
00101         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa3" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa3">GetIntegerEntry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00102                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;value);
00103         <span class="comment">//</span>
00104         <span class="comment">// Reads a double from the specified key in the properties.</span>
00105         <span class="comment">// If the section and key are found and can be read as a double,</span>
00106         <span class="comment">// then the value argument is set and the return value is zero.</span>
00107         <span class="comment">// Otherwise, the return value is -1.</span>
00108         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa4" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa4">GetDoubleEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00109                 <span class="keywordtype">double</span> &amp;value);
00110         <span class="comment">//</span>
00111         <span class="comment">// Reads a block of binary data from the specified key in the</span>
00112         <span class="comment">// properties.</span>
00113         <span class="comment">// If the section and key are found and can be read as a binary,</span>
00114         <span class="comment">// then the value argument is allocated and filled, the length</span>
00115         <span class="comment">// is set, and the return value is zero. </span>
00116         <span class="comment">// On failure, the return value is -1.</span>
00117         <span class="comment">// NOTE: The caller is responsible for deleting the  block of</span>
00118         <span class="comment">// data returned on success!</span>
00119         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa5" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa5">GetBinaryEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00120                 <span class="keywordtype">void</span> *&amp;value, size_t &amp;length);
00121         <span class="comment">//</span>
00122         <span class="comment">// Reads a boolean from the specified key in the properties.</span>
00123         <span class="comment">// If the section and key are found and can be interpreted as</span>
00124         <span class="comment">// a boolean, then the value argument is set and the return</span>
00125         <span class="comment">// value is zero. Otherwise, the return value is -1.</span>
00126         <span class="comment">//</span>
00127         <span class="comment">// Zero-valued integers and the case-insensitive strings "NO" and "FALSE"</span>
00128         <span class="comment">// are interpreted to mean a boolean false. All other strings and</span>
00129         <span class="comment">// integers are interpreted to mean true.</span>
00130         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa6" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa6">GetBooleanEntry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00131                 <span class="keywordtype">bool</span> &amp;value);
00132 
00133         <span class="comment">//</span>
00134         <span class="comment">// Reads a string from the specified key in the properties.</span>
00135         <span class="comment">// If the section and key are found and can be read as a string,</span>
00136         <span class="comment">// then the value argument is set and the return value is zero.</span>
00137         <span class="comment">// Otherwise, the return value is -1.</span>
00138         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa2" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa2">GetStringEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00139                 std::string &amp;value);
00140         <span class="comment">//</span>
00141         <span class="comment">// Reads an intger from the specified key in the properties.</span>
00142         <span class="comment">// If the section and key are found and can be read as an integer,</span>
00143         <span class="comment">// then the value argument is set and the return value is zero.</span>
00144         <span class="comment">// Otherwise, the return value is -1.</span>
00145         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa3" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa3">GetIntegerEntry</a>(<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00146                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;value);
00147         <span class="comment">//</span>
00148         <span class="comment">// Reads a double from the specified key in the properties.</span>
00149         <span class="comment">// If the section and key are found and can be read as a double,</span>
00150         <span class="comment">// then the value argument is set and the return value is zero.</span>
00151         <span class="comment">// Otherwise, the return value is -1.</span>
00152         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa4" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa4">GetDoubleEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00153                 <span class="keywordtype">double</span> &amp;value);
00154         <span class="comment">//</span>
00155         <span class="comment">// Reads a block of binary data from the specified key in the</span>
00156         <span class="comment">// properties.</span>
00157         <span class="comment">// If the section and key are found and can be read as a binary,</span>
00158         <span class="comment">// then the value argument is allocated and filled, the length</span>
00159         <span class="comment">// is set, and the return value is zero. </span>
00160         <span class="comment">// On failure, the return value is -1.</span>
00161         <span class="comment">// NOTE: The caller is responsible for deleting the  block of</span>
00162         <span class="comment">// data returned on success!</span>
00163         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa5" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa5">GetBinaryEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00164                 <span class="keywordtype">void</span> *&amp;value, size_t &amp;length);
00165         <span class="comment">//</span>
00166         <span class="comment">// Reads a boolean from the specified key in the properties.</span>
00167         <span class="comment">// If the section and key are found and can be interpreted as</span>
00168         <span class="comment">// a boolean, then the value argument is set and the return</span>
00169         <span class="comment">// value is zero. Otherwise, the return value is -1.</span>
00170         <span class="comment">//</span>
00171         <span class="comment">// Zero-valued integers and the case-insensitive strings "NO" and "FALSE"</span>
00172         <span class="comment">// are interpreted to mean a boolean false. All other strings and</span>
00173         <span class="comment">// integers are interpreted to mean true.</span>
00174         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa6" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa6">GetBooleanEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00175                 <span class="keywordtype">bool</span> &amp;value);
00176 
00177         <span class="comment">//</span>
00178         <span class="comment">// Sets a field in the properties to a string value.</span>
00179         <span class="comment">// The sectionName argument is the absolute path to the section where the</span>
00180         <span class="comment">// field will reside. If the specified section doesn't already exist</span>
00181         <span class="comment">// it will be created.</span>
00182         <span class="comment">// The name argument is the name of the field to be set.</span>
00183         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00184         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00185         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa12" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa12">SetStringEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00186                 <span class="keyword">const</span> <span class="keywordtype">char</span> *value);
00187 
00188         <span class="comment">//</span>
00189         <span class="comment">// Sets a field in the properties to an integer value.</span>
00190         <span class="comment">// The sectionName argument is the absolute path to the section where the</span>
00191         <span class="comment">// field will reside. If the specified section doesn't already exist</span>
00192         <span class="comment">// it will be created.</span>
00193         <span class="comment">// The name argument is the name of the field to be set.</span>
00194         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00195         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00196         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa13" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa13">SetIntegerEntry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00197                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value);
00198 
00199         <span class="comment">//</span>
00200         <span class="comment">// Sets a field in the properties to an integer value.</span>
00201         <span class="comment">// The sectionName argument is the absolute path to the section where the</span>
00202         <span class="comment">// field will reside. If the specified section doesn't already exist</span>
00203         <span class="comment">// it will be created.</span>
00204         <span class="comment">// The name argument is the name of the field to be set.</span>
00205         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00206         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00207         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa14" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa14">SetDoubleEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00208                 <span class="keywordtype">double</span> value);
00209 
00210         <span class="comment">//</span>
00211         <span class="comment">// Sets a field in the properties to a binary value.</span>
00212         <span class="comment">// The sectionName argument is the absolute path to the section where the</span>
00213         <span class="comment">// field will reside. If the specified section doesn't already exist</span>
00214         <span class="comment">// it will be created.</span>
00215         <span class="comment">// The name argument is the name of the field to be set.</span>
00216         <span class="comment">// The value argument is a pointer to the value which will be assigned to</span>
00217         <span class="comment">// the field.</span>
00218         <span class="comment">// The length argument is the number of bytes in the binary value to be</span>
00219         <span class="comment">// stored.</span>
00220         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00221         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa15" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa15">SetBinaryEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00222                 <span class="keyword">const</span> <span class="keywordtype">void</span> *value, size_t length);
00223 
00224         <span class="comment">//</span>
00225         <span class="comment">// Sets a field in the properties to a boolean value.</span>
00226         <span class="comment">// The sectionName argument is the absolute path to the section where the</span>
00227         <span class="comment">// field will reside. If the specified section doesn't already exist</span>
00228         <span class="comment">// it will be created.</span>
00229         <span class="comment">// The name argument is the name of the field to be set.</span>
00230         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00231         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00232         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa16" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa16">SetBooleanEntry</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00233                 <span class="keywordtype">bool</span> value);
00234 
00235         <span class="comment">//</span>
00236         <span class="comment">// Sets a field in the properties to a string value.</span>
00237         <span class="comment">// The parent argument is the section key of the section where the field</span>
00238         <span class="comment">// will reside. Note that the section must already exist when this method</span>
00239         <span class="comment">// is called.</span>
00240         <span class="comment">// The name argument is the name of the field to be set.</span>
00241         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00242         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00243         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa12" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa12">SetStringEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00244                 <span class="keyword">const</span> <span class="keywordtype">char</span> *value);
00245 
00246         <span class="comment">//</span>
00247         <span class="comment">// Sets a field in the properties to an integer value.</span>
00248         <span class="comment">// The parent argument is the section key of the section where the field</span>
00249         <span class="comment">// will reside. Note that the section must already exist when this method</span>
00250         <span class="comment">// is called.</span>
00251         <span class="comment">// The name argument is the name of the field to be set.</span>
00252         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00253         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00254         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa13" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa13">SetIntegerEntry</a>(<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00255                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value);
00256 
00257         <span class="comment">//</span>
00258         <span class="comment">// Sets a field in the properties to a double value.</span>
00259         <span class="comment">// The parent argument is the section key of the section where the field</span>
00260         <span class="comment">// will reside. Note that the section must already exist when this method</span>
00261         <span class="comment">// is called.</span>
00262         <span class="comment">// The name argument is the name of the field to be set.</span>
00263         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00264         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00265         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa14" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa14">SetDoubleEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00266                 <span class="keywordtype">double</span> value);
00267 
00268         <span class="comment">//</span>
00269         <span class="comment">// Sets a field in the properties to a binary value.</span>
00270         <span class="comment">// The parent argument is the section key of the section where the field</span>
00271         <span class="comment">// will reside. Note that the section must already exist when this method</span>
00272         <span class="comment">// is called.</span>
00273         <span class="comment">// The name argument is the name of the field to be set.</span>
00274         <span class="comment">// The value argument is a pointer to the value which will be assigned to</span>
00275         <span class="comment">// the field.</span>
00276         <span class="comment">// The length argument is the number of bytes in the binary value to be</span>
00277         <span class="comment">// stored.</span>
00278         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00279         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa15" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa15">SetBinaryEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00280                 <span class="keyword">const</span> <span class="keywordtype">void</span> *value, size_t length);
00281 
00282         <span class="comment">//</span>
00283         <span class="comment">// Sets a field in the properties to a boolean value.</span>
00284         <span class="comment">// The parent argument is the section key of the section where the field</span>
00285         <span class="comment">// will reside. Note that the section must already exist when this method</span>
00286         <span class="comment">// is called.</span>
00287         <span class="comment">// The name argument is the name of the field to be set.</span>
00288         <span class="comment">// The value argument is the value which will be assigned to the field.</span>
00289         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00290         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa16" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa16">SetBooleanEntry</a> (<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
00291                 <span class="keywordtype">bool</span> value);
00292 
00293         <span class="comment">//</span>
00294         <span class="comment">// Given a section name, this method retrieves a key pointing</span>
00295         <span class="comment">// to that section.</span>
00296         <span class="comment">//</span>
00297         <span class="comment">// Section keys can be used to efficiently refer to the same</span>
00298         <span class="comment">// section repeatedly.</span>
00299         <span class="comment">// The sectionName argument is the name of the section to be</span>
00300         <span class="comment">// retrieved. The key argument will be set to the section key</span>
00301         <span class="comment">// If createNew is true and the specified section doesn't already</span>
00302         <span class="comment">// exist, it will be created.</span>
00303         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00304         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa22" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa22">GetSectionKey</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName, SectionKey_t &amp;key,
00305                 <span class="keywordtype">bool</span> createNew=<span class="keyword">false</span>);
00306 
00307         <span class="comment">//</span>
00308         <span class="comment">// Given a section key and the name of a subsection, this method retrieves</span>
00309         <span class="comment">// a key pointing to that subsection.</span>
00310         <span class="comment">//</span>
00311         <span class="comment">// Section keys can be used to efficiently refer to the same</span>
00312         <span class="comment">// section repeatedly.</span>
00313         <span class="comment">// The parent argument is the key of the section to which the sectionName</span>
00314         <span class="comment">// is relative.</span>
00315         <span class="comment">// The sectionName argument is the relative path to the subsection to be</span>
00316         <span class="comment">// retrieved. The key argument will be set to the section key</span>
00317         <span class="comment">// If createNew is true and the specified section doesn't already</span>
00318         <span class="comment">// exist, it will be created.</span>
00319         <span class="comment">// Returns 0 on success or -1 on failure.</span>
00320         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa22" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa22">GetSectionKey</a>(<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *sectionName,
00321                 SectionKey_t &amp;key, <span class="keywordtype">bool</span> createNew=<span class="keyword">false</span>);
00322 
00323         <span class="comment">//</span>
00324         <span class="comment">// This method iterates through the top-level sections of the properties.</span>
00325         <span class="comment">// The index argument should be zero on the first call to EnumerateSections()</span>
00326         <span class="comment">// On each successful call, the name of a top-level section will be returned</span>
00327         <span class="comment">// in the name argument.  Each successive call should be with an index</span>
00328         <span class="comment">// one higher than the last until no sections remain.</span>
00329         <span class="comment">// The return value is 0 on success with more sections remaining,</span>
00330         <span class="comment">// 1 on success with no more sections remaining, and -1 on error.</span>
00331         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa24" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa24">EnumerateSections</a>(<span class="keywordtype">int</span> index, std::string &amp;name);
00332 
00333         <span class="comment">//</span>
00334         <span class="comment">// This method iterates through a subsection of the properties.</span>
00335         <span class="comment">// The index argument should be zero on the first call to</span>
00336         <span class="comment">// EnumerateSections().</span>
00337         <span class="comment">// On each successful call, the name of an immediate subsection of the</span>
00338         <span class="comment">// parent key will be returned in the name argument.  Each successive</span>
00339         <span class="comment">// call should be with an index one higher than the last until no</span>
00340         <span class="comment">// subsections remain.</span>
00341         <span class="comment">// The return value is 0 on success with more sections remaining,</span>
00342         <span class="comment">// 1 on success with no more sections remaining, and -1 on error.</span>
00343         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa24" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa24">EnumerateSections</a>(<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keywordtype">int</span> index,
00344                 std::string &amp;name);
00345 
00346         <span class="comment">//</span>
00347         <span class="comment">// This method iterates through the top-level fields of the properties.</span>
00348         <span class="comment">// Top-level fields are those that have no section name -- they are in</span>
00349         <span class="comment">// the "root section" of the properties.</span>
00350         <span class="comment">// The index argument should be zero on the first call to</span>
00351         <span class="comment">// EnumerateEntries().</span>
00352         <span class="comment">// On each successful call, the name and valuetype of a field</span>
00353         <span class="comment">// will be returned in the name and valuetype arguments respectively.</span>
00354         <span class="comment">// Note that entries reported as a string can be interpreted as</span>
00355         <span class="comment">// virtually any data type -- this class knows how to coerce strings.</span>
00356         <span class="comment">// Each successive call should be with an index one higher than the last</span>
00357         <span class="comment">// until no sections remain.</span>
00358         <span class="comment">// The return value is 0 on success with more fields remaining,</span>
00359         <span class="comment">// 1 on success with no more fields remaining, and -1 on error.</span>
00360         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa26" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa26">EnumerateEntries</a>(<span class="keywordtype">int</span> index, std::string &amp;name,
00361                 Valuetype_t &amp;valuetype);
00362 
00363         <span class="comment">//</span>
00364         <span class="comment">// This method iterates through the fields in one section of the properties.</span>
00365         <span class="comment">// The index argument should be zero on the first call to</span>
00366         <span class="comment">// EnumerateEntries().</span>
00367         <span class="comment">// On each successful call, the name and valuetype of a field</span>
00368         <span class="comment">// will be returned in the name and valuetype arguments respectively.</span>
00369         <span class="comment">// Note that entries reported as a string can be interpreted as</span>
00370         <span class="comment">// virtually any data type -- this class knows how to coerce strings.</span>
00371         <span class="comment">// Each successive call should be with an index one higher than the last</span>
00372         <span class="comment">// until no sections remain.</span>
00373         <span class="comment">// The return value is 0 on success with more fields remaining,</span>
00374         <span class="comment">// 1 on success with no more fields remaining, and -1 on error.</span>
00375         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa26" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa26">EnumerateEntries</a>(<span class="keyword">const</span> SectionKey_t &amp;parent, <span class="keywordtype">int</span> index,
00376                 std::string &amp;name, Valuetype_t &amp;valuetype);
00377 
00378         <span class="comment">//</span>
00379         <span class="comment">// This method parses a Registry-style property file and imports</span>
00380         <span class="comment">// its contents into the the system properties.  The file's contents</span>
00381         <span class="comment">// are merged with any properties already held.  Pre-existing fields</span>
00382         <span class="comment">// with the same name and section as fields from the file will be</span>
00383         <span class="comment">// overwritten.</span>
00384         <span class="comment">//</span>
00385         <span class="comment">// The method returns 0 on success and -1 on failure.</span>
00386         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa28" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa28">ImportPropertiesRegistry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename);
00387 
00388         <span class="comment">//</span>
00389         <span class="comment">// This method writes the contents of the SystemProperties object</span>
00390         <span class="comment">// to a file in Registry format. If the file already exists, it will</span>
00391         <span class="comment">// be overwritten.</span>
00392         <span class="comment">// The method returns 0 on success and -1 on failure.</span>
00393         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa29" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa29">ExportPropertiesRegistry</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename);
00394 
00395         <span class="comment">//</span>
00396         <span class="comment">// This method parses an INI-style property file and imports</span>
00397         <span class="comment">// its contents into the the system properties.  The file's contents</span>
00398         <span class="comment">// are merged with any properties already held.  Pre-existing fields</span>
00399         <span class="comment">// with the same name and section as fields from the file will be</span>
00400         <span class="comment">// overwritten.</span>
00401         <span class="comment">//</span>
00402         <span class="comment">// The method returns 0 on success and -1 on failure.</span>
00403         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa30" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa30">ImportPropertiesIni</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename);
00404 
00405         <span class="comment">//</span>
00406         <span class="comment">// This method writes the contents of the SystemProperties object</span>
00407         <span class="comment">// to a file in INI format. If the file already exists, it will</span>
00408         <span class="comment">// be overwritten.</span>
00409         <span class="comment">// The method returns 0 on success and -1 on failure.</span>
00410         <span class="keywordtype">int</span> <a class="code" href="classSystemProperties.html#SystemPropertiesa31" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiesa31">ExportPropertiesIni</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename);
00411 
00412 <span class="keyword">protected</span>:
00413 
<a name="l00414"></a><a class="code" href="classSystemProperties.html#SystemPropertiest0" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiest0">00414</a>         <span class="keyword">static</span> <a class="code" href="classSystemProperties.html" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html">SystemProperties</a> * <a class="code" href="classSystemProperties.html#SystemPropertiest0" tppabs="http://dsacss.sourceforge.net/classSystemProperties.html#SystemPropertiest0">m_pInstance</a>;
00415 };
00416 
00417 <span class="preprocessor">#endif // SYSTEM_PROPERTIES_H</span>
00418 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 11:49:55 2004 for DSACSS Operational Code by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.png" tppabs="http://dsacss.sourceforge.net/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
