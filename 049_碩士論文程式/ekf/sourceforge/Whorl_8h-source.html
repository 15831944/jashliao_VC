<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DSACSS Operational Code: Whorl.h Source File</title>
<link href="doxygen.css" tppabs="http://dsacss.sourceforge.net/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<h1>Whorl.h</h1><a href="Whorl_8h.html" tppabs="http://dsacss.sourceforge.net/Whorl_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 
00008 
00010 
00011 
00012 <span class="preprocessor">#ifndef __SSSL_WHORL_H__</span>
00013 <span class="preprocessor"></span><span class="preprocessor">#define __SSSL_WHORL_H__</span>
00014 <span class="preprocessor"></span>
00015 <span class="preprocessor">#include "<a class="code" href="Error_8h.html" tppabs="http://dsacss.sourceforge.net/Error_8h.html">Error.h</a>"</span>
00016 <span class="preprocessor">#include "Matrix.h"</span>
00017 <span class="preprocessor">#include "<a class="code" href="RateGyro_8h.html" tppabs="http://dsacss.sourceforge.net/RateGyro_8h.html">RateGyro.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="DMURateGyro_8h.html" tppabs="http://dsacss.sourceforge.net/DMURateGyro_8h.html">DMURateGyro.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="Accelerometer_8h.html" tppabs="http://dsacss.sourceforge.net/Accelerometer_8h.html">Accelerometer.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="DMUAccelerometer_8h.html" tppabs="http://dsacss.sourceforge.net/DMUAccelerometer_8h.html">DMUAccelerometer.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="MomentumWheel_8h.html" tppabs="http://dsacss.sourceforge.net/MomentumWheel_8h.html">MomentumWheel.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="TiltSensor_8h.html" tppabs="http://dsacss.sourceforge.net/TiltSensor_8h.html">TiltSensor.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="CfgParse_8h.html" tppabs="http://dsacss.sourceforge.net/CfgParse_8h.html">CfgParse.h</a>"</span>
00024 <span class="preprocessor">#include &lt;string&gt;</span>
00025 <span class="preprocessor">#include &lt;map&gt;</span>
00026 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00027 <span class="keyword">using</span> <span class="keyword">namespace </span>O_SESSAME;
00028 
<a name="l00029"></a><a class="code" href="classWhorl.html" tppabs="http://dsacss.sourceforge.net/classWhorl.html">00029</a> <span class="keyword">class </span><a class="code" href="classWhorl.html" tppabs="http://dsacss.sourceforge.net/classWhorl.html">Whorl</a> {
00030         
00031 <span class="keyword">public</span>:
00032     <span class="comment">// Constructor/Deconstructor</span>
<a name="l00033"></a><a class="code" href="classWhorl.html#Whorla0" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla0">00033</a>     <a class="code" href="classWhorl.html#Whorla0" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla0">Whorl</a>() {};
<a name="l00034"></a><a class="code" href="classWhorl.html#Whorla1" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla1">00034</a>     <span class="keyword">virtual</span> <a class="code" href="classWhorl.html#Whorla1" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla1">~Whorl</a>() {};
00035                 
00036         <span class="keywordtype">void</span> <a class="code" href="classWhorl.html#Whorla2" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla2">Initialize</a>(<a class="code" href="structcfgBody.html" tppabs="http://dsacss.sourceforge.net/structcfgBody.html">cfgBody</a> *data);
00037 
00038         <span class="comment">// Accessor / Setting Functions</span>
00039 
<a name="l00041"></a><a class="code" href="classWhorl.html#Whorla3" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla3">00041</a>         <span class="keyword">inline</span> Vector <a class="code" href="classWhorl.html#Whorla3" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla3">GetParameter</a>() { <span class="keywordflow">return</span> <a class="code" href="classWhorl.html#Whorlr2" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr2">m_recentParameter</a>; };
00042         
00044         Matrix <a class="code" href="classWhorl.html#Whorla4" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla4">GetMOI</a>();
00045         
00047         Vector <a class="code" href="classWhorl.html#Whorla5" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla5">GetCGVector</a>();
00048         
<a name="l00050"></a><a class="code" href="classWhorl.html#Whorla6" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla6">00050</a>         <span class="keyword">inline</span> Vector <a class="code" href="classWhorl.html#Whorla6" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla6">GetState</a>() { <span class="keywordflow">return</span> <a class="code" href="classWhorl.html#Whorlr0" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr0">m_recentState</a>; };
00051         
00053         Vector <a class="code" href="classWhorl.html#Whorla7" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla7">GetQuaternion</a>();
00054         
00056         Vector <a class="code" href="classWhorl.html#Whorla8" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla8">GetOmegaBL</a>();
00057         
<a name="l00059"></a><a class="code" href="classWhorl.html#Whorla9" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla9">00059</a>         <span class="keyword">inline</span> Vector <a class="code" href="classWhorl.html#Whorla9" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla9">GetControl</a>() { <span class="keywordflow">return</span> <a class="code" href="classWhorl.html#Whorlr3" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr3">m_recentControl</a>; };
00060         
<a name="l00062"></a><a class="code" href="classWhorl.html#Whorla10" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla10">00062</a>         <span class="keyword">inline</span> <span class="keyword">struct </span>timeval GetTimeOfEstimate() { <span class="keywordflow">return</span> m_estimateTime; };
00063         
<a name="l00065"></a><a class="code" href="classWhorl.html#Whorla11" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla11">00065</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classWhorl.html#Whorla11" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla11">SetState</a>(Vector&amp; _updatedState) { <a class="code" href="classWhorl.html#Whorlr0" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr0">m_recentState</a> = _updatedState; };
00066         
<a name="l00068"></a><a class="code" href="classWhorl.html#Whorla12" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla12">00068</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classWhorl.html#Whorla12" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla12">SetParameter</a>(Vector&amp; _updatedParameter) { <a class="code" href="classWhorl.html#Whorlr2" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr2">m_recentParameter</a> = _updatedParameter; };
00069         
<a name="l00071"></a><a class="code" href="classWhorl.html#Whorla13" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla13">00071</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classWhorl.html#Whorla13" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla13">SetControl</a>(Vector&amp; _updatedControl) { <a class="code" href="classWhorl.html#Whorlr3" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr3">m_recentControl</a> = _updatedControl; };
00072 
<a name="l00074"></a><a class="code" href="classWhorl.html#Whorla14" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla14">00074</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classWhorl.html#Whorla14" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla14">SetTimeOfEstimate</a>(<a class="code" href="javascript:if(confirm('http://dsacss.sourceforge.net/classtimeval.html  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://dsacss.sourceforge.net/classtimeval.html'" tppabs="http://dsacss.sourceforge.net/classtimeval.html">timeval</a> _t) { <a class="code" href="classWhorl.html#Whorlr4" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr4">m_estimateTime</a> = _t; };
00075         
<a name="l00079"></a><a class="code" href="classWhorl.html#Whorla15" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla15">00079</a>                 <span class="keyword">inline</span> <a class="code" href="classRateGyro.html" tppabs="http://dsacss.sourceforge.net/classRateGyro.html">RateGyro</a>* <a class="code" href="classWhorl.html#Whorla15" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla15">GetRateGyro</a>(string rgName) { <span class="keywordflow">return</span> <a class="code" href="classWhorl.html#Whorlr5" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr5">m_rateGyros</a>[rgName]; };
00080                 
<a name="l00082"></a><a class="code" href="classWhorl.html#Whorla16" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla16">00082</a>                 <span class="keyword">inline</span> <a class="code" href="classAccelerometer.html" tppabs="http://dsacss.sourceforge.net/classAccelerometer.html">Accelerometer</a>* <a class="code" href="classWhorl.html#Whorla16" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla16">GetAccelerometer</a>(string accName) { <span class="keywordflow">return</span> <a class="code" href="classWhorl.html#Whorlr6" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr6">m_accelerometers</a>[accName]; };
00083                 
<a name="l00085"></a><a class="code" href="classWhorl.html#Whorla17" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla17">00085</a>                 <span class="keyword">inline</span> <a class="code" href="classMomentumWheel.html" tppabs="http://dsacss.sourceforge.net/classMomentumWheel.html">MomentumWheel</a>* <a class="code" href="classWhorl.html#Whorla17" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorla17">GetMomentumWheel</a>(string mwName) { <span class="keywordflow">return</span> <a class="code" href="classWhorl.html#Whorlr7" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr7">m_momentumWheels</a>[mwName]; };
00086         
00087 <span class="keyword">protected</span>:
00088 
00089 <span class="keyword">private</span>:
00090     
<a name="l00092"></a><a class="code" href="classWhorl.html#Whorlr0" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr0">00092</a>         Vector  <a class="code" href="classWhorl.html#Whorlr0" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr0">m_recentState</a>;          
<a name="l00093"></a><a class="code" href="classWhorl.html#Whorlr1" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr1">00093</a>         Vector  <a class="code" href="classWhorl.html#Whorlr1" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr1">m_desiredState</a>;
<a name="l00094"></a><a class="code" href="classWhorl.html#Whorlr2" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr2">00094</a>         Vector  <a class="code" href="classWhorl.html#Whorlr2" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr2">m_recentParameter</a>;      
<a name="l00095"></a><a class="code" href="classWhorl.html#Whorlr3" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr3">00095</a>         Vector  <a class="code" href="classWhorl.html#Whorlr3" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr3">m_recentControl</a>;        
<a name="l00096"></a><a class="code" href="classWhorl.html#Whorlr4" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr4">00096</a>         <a class="code" href="javascript:if(confirm('http://dsacss.sourceforge.net/classtimeval.html  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://dsacss.sourceforge.net/classtimeval.html'" tppabs="http://dsacss.sourceforge.net/classtimeval.html">timeval</a> <a class="code" href="classWhorl.html#Whorlr4" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr4">m_estimateTime</a>;         
<a name="l00099"></a><a class="code" href="classWhorl.html#Whorlr5" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr5">00099</a>         map&lt;string, RateGyro*&gt; <a class="code" href="classWhorl.html#Whorlr5" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr5">m_rateGyros</a>;
<a name="l00100"></a><a class="code" href="classWhorl.html#Whorlr6" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr6">00100</a>         map&lt;string, Accelerometer*&gt; <a class="code" href="classWhorl.html#Whorlr6" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr6">m_accelerometers</a>;
<a name="l00101"></a><a class="code" href="classWhorl.html#Whorlr7" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr7">00101</a>         map&lt;string, MomentumWheel*&gt; <a class="code" href="classWhorl.html#Whorlr7" tppabs="http://dsacss.sourceforge.net/classWhorl.html#Whorlr7">m_momentumWheels</a>;
00102 
00103 };
00104 
00105 <span class="preprocessor">#endif </span>
00106 <span class="preprocessor"></span>
00107 <span class="comment">// Do not change the comments below - they will be added automatically by CVS</span>
00108 <span class="comment">/*****************************************************************************</span>
00109 <span class="comment">*       $Log: Whorl.h,v $</span>
00110 <span class="comment">*       Revision 1.13  2004/04/28 19:42:56  bstreetman</span>
00111 <span class="comment">*       Added Tilt Sensor</span>
00112 <span class="comment">*       </span>
00113 <span class="comment">*       Revision 1.12  2003/12/09 02:08:42  simpliciter</span>
00114 <span class="comment">*       Added GetAccelerometer() function.</span>
00115 <span class="comment">*       </span>
00116 <span class="comment">*       Revision 1.11  2003/08/18 19:03:49  mavandyk</span>
00117 <span class="comment">*       Added initial condition and parameter parsing and pulled out controller and observer stuff.</span>
00118 <span class="comment">*       </span>
00119 <span class="comment">*       Revision 1.10  2003/08/13 23:16:07  mavandyk</span>
00120 <span class="comment">*       Altered structure as outline in meeting.</span>
00121 <span class="comment">*       </span>
00122 <span class="comment">*       Revision 1.9  2003/08/06 21:44:49  mavandyk</span>
00123 <span class="comment">*       Altered to get config parsing to work.</span>
00124 <span class="comment">*       </span>
00125 <span class="comment">*       Revision 1.8  2003/08/01 11:17:42  mavandyk</span>
00126 <span class="comment">*       Fundamental changes to the map structure and fixed bugs.</span>
00127 <span class="comment">*       </span>
00128 <span class="comment">*       Revision 1.7  2003/07/25 14:25:04  mavandyk</span>
00129 <span class="comment">*       Fixed bugs, It compiles.</span>
00130 <span class="comment">*       </span>
00131 <span class="comment">*       Revision 1.6  2003/07/22 21:26:19  mavandyk</span>
00132 <span class="comment">*       Fixed bugs.</span>
00133 <span class="comment">*       </span>
00134 <span class="comment">*       Revision 1.5  2003/07/10 19:52:30  mavandyk</span>
00135 <span class="comment">*       Changed time storage and handling.</span>
00136 <span class="comment">*       </span>
00137 <span class="comment">*       Revision 1.4  2003/07/09 21:35:19  cakinli</span>
00138 <span class="comment">*       Updated Whorl::Initialize(), added getCmdIndex(), and class Measurement.</span>
00139 <span class="comment">*       </span>
00140 <span class="comment">*       Revision 1.3  2003/07/07 14:37:58  simpliciter</span>
00141 <span class="comment">*       Minor modifications.  Measurement stuff needs work.</span>
00142 <span class="comment">*       </span>
00143 <span class="comment">*       Revision 1.2  2003/07/04 16:12:18  simpliciter</span>
00144 <span class="comment">*       Fixed variable and function names.</span>
00145 <span class="comment">*       </span>
00146 <span class="comment">*       Revision 1.1  2003/07/04 14:08:05  simpliciter</span>
00147 <span class="comment">*       Rearranged directory tree.</span>
00148 <span class="comment">*       </span>
00149 <span class="comment">*       Revision 1.5  2003/07/03 21:18:12  simpliciter</span>
00150 <span class="comment">*       Added functions based on requirements of Observer and Controller classes.</span>
00151 <span class="comment">*       </span>
00152 <span class="comment">*       Revision 1.4  2003/07/03 16:54:48  shoemaker</span>
00153 <span class="comment">*       Added semi-working versions of DMU code</span>
00154 <span class="comment">*       </span>
00155 <span class="comment">*       Revision 1.3  2003/07/02 16:36:32  nicmcp</span>
00156 <span class="comment">*       added some comments</span>
00157 <span class="comment">*       </span>
00158 <span class="comment">*       Revision 1.2  2003/06/17 23:32:28  simpliciter</span>
00159 <span class="comment">*       Updated based on comments from Andy.</span>
00160 <span class="comment">*       </span>
00161 <span class="comment">*       Revision 1.1.1.1  2003/06/06 18:44:15  simpliciter</span>
00162 <span class="comment">*       Initial submission.</span>
00163 <span class="comment">*       </span>
00164 <span class="comment">*       Revision 1.1.1.1  2003/06/06 14:44:15  simpliciter</span>
00165 <span class="comment">*       Initial import.</span>
00166 <span class="comment">*       </span>
00167 <span class="comment">*</span>
00168 <span class="comment">******************************************************************************/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jun 15 11:49:55 2004 for DSACSS Operational Code by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.png" tppabs="http://dsacss.sourceforge.net/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
