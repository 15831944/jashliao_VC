<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>barray.cpp Source File</title>
<link href="doxygen.css" tppabs="http://libnurbs.sourceforge.net/docs/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html" tppabs="http://libnurbs.sourceforge.net/docs/index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html" tppabs="http://libnurbs.sourceforge.net/docs/hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html" tppabs="http://libnurbs.sourceforge.net/docs/annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html" tppabs="http://libnurbs.sourceforge.net/docs/files.html">File List</a> &nbsp; <a class="qindex" href="functions.html" tppabs="http://libnurbs.sourceforge.net/docs/functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>barray.cpp</h1><div class="fragment"><pre>00001 <font class="comment">/*=============================================================================</font>
00002 <font class="comment">        File: barray.cpp</font>
00003 <font class="comment">     Purpose:       </font>
00004 <font class="comment">    Revision: $Id: barray.cpp,v 1.5 2003/05/15 02:34:55 philosophil Exp $</font>
00005 <font class="comment">  Created by: Philippe Lavoie          (3 Oct, 1996)</font>
00006 <font class="comment"> Modified by: </font>
00007 <font class="comment"></font>
00008 <font class="comment"> Copyright notice:</font>
00009 <font class="comment">          Copyright (C) 1996-1998 Philippe Lavoie</font>
00010 <font class="comment"> </font>
00011 <font class="comment">          This library is free software; you can redistribute it and/or</font>
00012 <font class="comment">          modify it under the terms of the GNU Library General Public</font>
00013 <font class="comment">          License as published by the Free Software Foundation; either</font>
00014 <font class="comment">          version 2 of the License, or (at your option) any later version.</font>
00015 <font class="comment"> </font>
00016 <font class="comment">          This library is distributed in the hope that it will be useful,</font>
00017 <font class="comment">          but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00018 <font class="comment">          MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00019 <font class="comment">          Library General Public License for more details.</font>
00020 <font class="comment"> </font>
00021 <font class="comment">          You should have received a copy of the GNU Library General Public</font>
00022 <font class="comment">          License along with this library; if not, write to the Free</font>
00023 <font class="comment">          Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</font>
00024 <font class="comment">=============================================================================*/</font>
00025 
00026 <font class="preprocessor">#ifndef BARRAY_SOURCES_</font>
00027 <font class="preprocessor"></font><font class="preprocessor">#define BARRAY_SOURCES_</font>
00028 <font class="preprocessor"></font>
00029 
00030 <font class="preprocessor">#include "matrix_global.h"</font>
00031 <font class="preprocessor">#include &lt;new&gt;</font>
00032 <font class="preprocessor">#include "barray.h"</font>
00033 <font class="preprocessor">#include &lt;cstring&gt;</font>
00034 
00037 <font class="keyword">namespace </font>PLib {
00038 
00045 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
<a name="l00046"></a><a class="code" href="classPLib_1_1BasicArray.html#a1" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a1">00046</a> BasicArray&lt;T&gt;::BasicArray() : rsize(0), wdth(0), sze(0)
00047 {
00048   <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a> = 0;
00049   <a class="code" href="classPLib_1_1BasicArray.html#n2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n2">destruct</a> = 0 ;
00050 }
00051 
00060 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
<a name="l00061"></a><a class="code" href="classPLib_1_1BasicArray.html#a2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a2">00061</a> BasicArray&lt;T&gt;::BasicArray(<font class="keyword">const</font> <font class="keywordtype">int</font> ni) {
00062   <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a> = 0 ;
00063   <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a> = <a class="code" href="classPLib_1_1BasicArray.html#n1" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n1">wdth</a> = <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a> = 0 ;
00064   <a class="code" href="classPLib_1_1BasicArray.html#a10" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a10">resize</a>(ni) ;
00065   <a class="code" href="classPLib_1_1BasicArray.html#n2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n2">destruct</a> = 1 ;
00066 }
00067 
00082 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
<a name="l00083"></a><a class="code" href="classPLib_1_1BasicArray.html#a4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a4">00083</a> BasicArray&lt;T&gt;::BasicArray(T* ap, <font class="keyword">const</font> <font class="keywordtype">int</font> size) : rsize(size), wdth(size+1), sze(size)
00084 {
00085   <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a> = ap ;
00086   <a class="code" href="classPLib_1_1BasicArray.html#n2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n2">destruct</a> = 0 ;
00087 }
00088 
<a name="l00097"></a><a class="code" href="classPLib_1_1BasicArray.html#a3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a3">00097</a> <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt; BasicArray&lt;T&gt;::BasicArray(<font class="keyword">const</font> BasicArray&lt;T&gt;&amp; f2) 
00098 {
00099   <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a> = <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a> = 0 ;
00100   <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a> = 0 ;
00101   <a class="code" href="classPLib_1_1BasicArray.html#a10" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a10">resize</a>(f2.size());
00102   T *p2,*p1 ;
00103   p1 = <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>-1 ;
00104   p2 = f2.x - 1 ;
00105   
00106   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> k = <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a>; k &gt;0; --k)
00107     *(++p1) = *(++p2) ;
00108   <a class="code" href="classPLib_1_1BasicArray.html#n2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n2">destruct</a> = 1 ;
00109 }
00110 
<a name="l00119"></a><a class="code" href="classPLib_1_1BasicArray.html#a5" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a5">00119</a> <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt; BasicArray&lt;T&gt;::BasicArray(<a class="code" href="classBasicList.html" tppabs="http://libnurbs.sourceforge.net/docs/classBasicList.html">BasicList&lt;T&gt;</a> &amp;list) 
00120 {
00121   <a class="code" href="structBasicNode.html" tppabs="http://libnurbs.sourceforge.net/docs/structBasicNode.html">BasicNode&lt;T&gt;</a> *node = list.<a class="code" href="classBasicList.html#a12" tppabs="http://libnurbs.sourceforge.net/docs/classBasicList.html#a12">goToFirst</a>() ;
00122   <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a> = <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a> = 0 ;
00123   <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a> = 0 ;
00124   <a class="code" href="classPLib_1_1BasicArray.html#a10" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a10">resize</a>(list.<a class="code" href="classBasicList.html#a15" tppabs="http://libnurbs.sourceforge.net/docs/classBasicList.html#a15">size</a>());
00125 
00126   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> k = <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a>; k&gt;0; --k){
00127     <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>[k] = *node-&gt;<a class="code" href="structBasicNode.html#m0" tppabs="http://libnurbs.sourceforge.net/docs/structBasicNode.html#m0">data</a> ;
00128     node = list.<a class="code" href="classBasicList.html#a13" tppabs="http://libnurbs.sourceforge.net/docs/classBasicList.html#a13">goToNext</a>() ;
00129   }
00130   <a class="code" href="classPLib_1_1BasicArray.html#n2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n2">destruct</a> = 1 ;
00131 }
00132 
<a name="l00139"></a><a class="code" href="classPLib_1_1BasicArray.html#a6" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a6">00139</a> <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt; BasicArray&lt;T&gt;::~BasicArray()
00140 {
00141   <a class="code" href="classPLib_1_1BasicArray.html#a12" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a12">clear</a>();
00142 }
00143 
<a name="l00153"></a><a class="code" href="classPLib_1_1BasicArray.html#a12" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a12">00153</a> <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt; <font class="keywordtype">void</font> BasicArray&lt;T&gt;::clear()
00154 {
00155   <font class="keywordflow">if</font>(destruct){
00156     <font class="keywordflow">if</font> ( x ) <font class="keyword">delete</font> []<a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>;
00157     <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a> = 0;
00158     <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a> = <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a> = 0;                 
00159   }
00160 }
00161 
00171 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt; 
<a name="l00172"></a><a class="code" href="classPLib_1_1BasicArray.html#a7" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a7">00172</a> BasicArray&lt;T&gt;&amp; BasicArray&lt;T&gt;::operator=(<font class="keyword">const</font> BasicArray&lt;T&gt;&amp; f2)
00173 {
00174   <font class="keywordflow">if</font> ( <font class="keyword">this</font> == &amp;f2 )
00175     <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00176 
00177   <a class="code" href="classPLib_1_1BasicArray.html#a10" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a10">resize</a>(f2.size()) ;
00178   
00179   <font class="comment">// wdth = f2.wdth;</font>
00180   T *p1,*p2 ;
00181   p1 = <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>-1 ;
00182   p2 = f2.x-1 ;
00183 
00184   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> k = <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a>; k &gt;0; --k)
00185     *(++p1) = *(++p2) ;
00186 
00187   <font class="keywordflow">return</font> *<font class="keyword">this</font>; 
00188 }
00189 
00198 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
00199 <font class="keywordtype">void</font> 
<a name="l00200"></a><a class="code" href="classPLib_1_1BasicArray.html#a11" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a11">00200</a> BasicArray&lt;T&gt;::trim(<font class="keyword">const</font> <font class="keywordtype">int</font> nsize)    
00201 {
00202   <font class="keywordflow">if</font> ( nsize &gt;= 0 &amp;&amp; nsize &lt;= <a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a> )
00203     <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a> = nsize;
00204 }
00205 
00214 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
00215 <font class="keywordtype">void</font> 
<a name="l00216"></a><a class="code" href="classPLib_1_1BasicArray.html#a15" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a15">00216</a> BasicArray&lt;T&gt;::reset(<font class="keyword">const</font> T val)
00217 {
00218   T *p1 ;
00219   p1 = <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>-1 ;
00220   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> k = <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a>; k &gt;0; --k)
00221     *(++p1) = val;
00222 }
00223 
00240 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00241 <font class="keywordtype">void</font> resizeBasicArray(BasicArray&lt;T&gt;&amp; a, <font class="keywordtype">int</font> nsize)
00242 {
00243   <font class="keywordtype">int</font> k;
00244   
00245   <font class="keywordflow">if</font> ( nsize == a.rsize ){
00246     a.sze = nsize ;
00247     <font class="keywordflow">return</font>;                     <font class="comment">// nothing to do</font>
00248   }
00249   
00250   <font class="keywordflow">if</font>(a.sze&gt;nsize){
00251     a.sze = nsize ;
00252     <font class="keywordflow">return</font> ;
00253   }
00254 
00255   <font class="keywordflow">if</font>((a.sze&lt;nsize) &amp;&amp; (nsize&lt;a.rsize)){
00256     <font class="keywordflow">for</font>(k=a.sze;k&lt;nsize;++k)
00257       a.x[k] = T() ;
00258     a.sze = nsize ;
00259     <font class="keywordflow">return</font> ;
00260   }
00261 
00262   T *xn ; 
00263   T *p,*pn ;
00264   xn = <font class="keyword">new</font> T[nsize];
00265   p = a.x ;
00266   pn = xn ;
00267   
00268   <font class="keywordflow">if</font> ( a.x )
00269     {
00270       <font class="comment">// copy the old data</font>
00271       memcpy((<font class="keywordtype">void</font>*)xn,(<font class="keywordtype">void</font>*)a.x,a.sze*<font class="keyword">sizeof</font>(T)) ;
00272       <font class="keywordflow">if</font>(a.sze&lt;nsize)
00273         memset((<font class="keywordtype">void</font>*)(xn+a.sze),0,(nsize-a.sze)*<font class="keyword">sizeof</font>(T)) ;
00274       <font class="keywordflow">if</font>(a.destruct)
00275         <font class="keyword">delete</font> []a.x;
00276     }
00277   <font class="keywordflow">else</font>
00278     memset((<font class="keywordtype">void</font>*)xn,0,nsize*<font class="keyword">sizeof</font>(T)) ;
00279   
00280   a.rsize = nsize;
00281   a.sze = a.rsize ;
00282   a.x = xn;
00283   a.destruct = 1 ;
00284   a.wdth = a.rsize + 1;
00285 }
00286 
00287 
00299 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
00300 istream&amp;  
<a name="l00301"></a><a class="code" href="classPLib_1_1BasicArray.html#l2" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#l2">00301</a> operator&gt;&gt; (istream&amp; is, BasicArray&lt;T&gt;&amp; arry)
00302 {
00303   T new_x;
00304   <font class="keywordtype">int</font> k, kend;
00305 
00306   <font class="keywordflow">if</font> ( is.eof() )
00307     <font class="keywordflow">return</font> is;
00308   
00309   
00310   kend = arry.size();
00311   
00312   <font class="keywordflow">for</font> (k = 0; k &lt; kend; ++k)
00313         {               
00314           is &gt;&gt; new_x;    
00315           <font class="comment">// end of file reached, abort the read</font>
00316           <font class="keywordflow">if</font> ( is.eof() || is.fail() )
00317             <font class="keywordflow">return</font> is;
00318           
00319           arry[k] = new_x;              
00320         }
00321   
00322   <font class="keywordflow">return</font> is;
00323         
00324 }
00325 
00338 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
<a name="l00339"></a><a class="code" href="classPLib_1_1BasicArray.html#a23" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a23">00339</a> ostream&amp; BasicArray&lt;T&gt;::print(ostream&amp; os)<font class="keyword"> const</font>
00340 <font class="keyword"></font>{
00341   <font class="keyword">const</font> <font class="keywordtype">int</font> iend = <a class="code" href="classPLib_1_1BasicArray.html#a8" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a8">size</a>();
00342   
00343   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i = 0; i &lt; iend;  )
00344     {
00345       os &lt;&lt; <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>[i] ; <font class="comment">// &lt;&lt; endl;</font>
00346       <font class="keywordflow">if</font> ( (++i % <a class="code" href="classPLib_1_1BasicArray.html#n1" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n1">wdth</a>) == 0 )
00347         os &lt;&lt; <font class="charliteral">'\n'</font>;
00348       <font class="keywordflow">else</font>
00349         os &lt;&lt; <font class="stringliteral">"   "</font>; 
00350     }
00351   os &lt;&lt; <font class="charliteral">'\n'</font> ;
00352   
00353   <font class="keywordflow">return</font> os;    
00354 }
00355 
00356 
00368 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
00369 ostream&amp;  
<a name="l00370"></a><a class="code" href="classPLib_1_1BasicArray.html#l3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#l3">00370</a> operator&lt;&lt;(ostream&amp; os,const BasicArray&lt;T&gt;&amp; arry)
00371 {
00372   <font class="keywordflow">return</font> arry.print(os);        
00373 }
00374 
00375 
00393 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
00394 <font class="keywordtype">int</font>  
<a name="l00395"></a><a class="code" href="classPLib_1_1BasicArray.html#l0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#l0">00395</a> operator!=(<font class="keyword">const</font> BasicArray&lt;T&gt; &amp;a,<font class="keyword">const</font> BasicArray&lt;T&gt; &amp;b) 
00396 {
00397   <font class="keywordflow">if</font> ( a.size() != b.size() )
00398     <font class="keywordflow">return</font> 1;
00399   
00400   <font class="keyword">const</font> <font class="keywordtype">int</font> sz = a.size();
00401   <font class="keywordtype">int</font> l = 1;
00402   
00403   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i = 0; i &lt; sz; ++i){
00404     l = l &amp;&amp; ( a[i] == b[i] );
00405     <font class="keywordflow">if</font>(!l) <font class="keywordflow">break</font> ;
00406   }
00407   
00408   <font class="keywordflow">return</font> (l==0 ? 1 : 0);
00409   
00410 }
00411 
00422 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;
00423 <font class="keywordtype">int</font>  
<a name="l00424"></a><a class="code" href="classPLib_1_1BasicArray.html#l1" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#l1">00424</a> operator==(<font class="keyword">const</font> BasicArray&lt;T&gt; &amp;a,<font class="keyword">const</font> BasicArray&lt;T&gt; &amp;b) 
00425 {
00426   <font class="keywordflow">if</font> ( a.size() != b.size() )
00427     <font class="keywordflow">return</font> 0;
00428   
00429   <font class="keyword">const</font> <font class="keywordtype">int</font> sz = a.size();
00430   <font class="keywordtype">int</font> l = 1;
00431   
00432   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i = 0; i &lt; sz; ++i)
00433     l = l &amp;&amp; ( a[i] == b[i] );
00434   
00435   <font class="keywordflow">return</font> l; 
00436 }
00437 
00438 <font class="preprocessor">#ifdef DEBUG_PLIB</font>
00439 <font class="preprocessor"></font><font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00440 T&amp; BasicArray&lt;T&gt;::elem(<font class="keyword">const</font> <font class="keywordtype">int</font> i) {
00441   <font class="keywordflow">if</font>(i&lt;0 || i&gt;=<a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a>){
00442 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00443 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> OutOfBound(i,0,<a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a>()-1) ;
00444 <font class="preprocessor">#else</font>
00445 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"BasicArray&lt;T&gt;::operator[]"</font>) ;
00446     error &lt;&lt; <font class="stringliteral">"Error Accessing the vector (press C-c to stop)\n"</font> ;
00447     error &lt;&lt; <font class="stringliteral">"Bad index "</font> &lt;&lt; i &lt;&lt; endl ;
00448     error.fatal() ;
00449 <font class="preprocessor">#endif</font>
00450 <font class="preprocessor"></font>  }
00451   <font class="keywordflow">return</font> <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>[i] ;
00452   
00453 }
00454 
00455 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00456 T  BasicArray&lt;T&gt;::elem(<font class="keyword">const</font> <font class="keywordtype">int</font> i)<font class="keyword"> const </font>{
00457   <font class="keywordflow">if</font>(i&lt;0 || i&gt;=<a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a>()){
00458 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00459 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> OutOfBound(i,0,<a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a>()-1) ;
00460 <font class="preprocessor">#else</font>
00461 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"BasicArray&lt;T&gt;::operator[]"</font>) ;
00462     error &lt;&lt; <font class="stringliteral">"Error Accessing the vector (press C-c to stop)\n"</font> ;
00463     error &lt;&lt; <font class="stringliteral">"Bad index "</font> &lt;&lt; i &lt;&lt; endl ;
00464     error.fatal() ;
00465 <font class="preprocessor">#endif</font>
00466 <font class="preprocessor"></font>  }
00467   <font class="keywordflow">return</font> <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>[i] ;
00468 }
00469 
00470 <font class="preprocessor">#endif</font>
00471 <font class="preprocessor"></font>
00485 <font class="keyword">template</font>&lt;<font class="keyword">class</font> T&gt;  
<a name="l00486"></a><a class="code" href="classPLib_1_1BasicArray.html#a14" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a14">00486</a> T&amp; BasicArray&lt;T&gt;::push_back(<font class="keyword">const</font> T i, <font class="keywordtype">int</font> end_buffer, <font class="keywordtype">double</font> end_mult){
00487   <font class="keywordtype">int</font> old_size = <a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a>;
00488   <font class="keywordflow">if</font>(<a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a>&gt;=<a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a>){
00489     <font class="keywordtype">int</font> <a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a>=<a class="code" href="classPLib_1_1BasicArray.html#n3" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n3">sze</a>; 
00490     <font class="keywordflow">if</font>(end_mult&gt;1.0){
00491       <a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a> = (int)( double(<a class="code" href="classPLib_1_1BasicArray.html#n0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n0">rsize</a>)*end_mult) ;
00492     }
00493     <font class="keywordflow">else</font> <font class="keywordflow">if</font>(end_buffer&lt;0){
00494       <a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a>++;
00495     }
00496     <font class="keywordflow">else</font>{
00497       <a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a> += end_buffer;
00498     }
00499     <a class="code" href="classPLib_1_1BasicArray.html#a10" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a10">resize</a>(<a class="code" href="classPLib_1_1BasicArray.html#a0" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a0">n</a>); <font class="comment">// allocate new memory, set rsze</font>
00500   }
00501   <a class="code" href="classPLib_1_1BasicArray.html#a10" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#a10">resize</a>(old_size+1); <font class="comment">// set sze</font>
00502   <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>[old_size] = i ; 
00503   <font class="keywordflow">return</font> <a class="code" href="classPLib_1_1BasicArray.html#n4" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1BasicArray.html#n4">x</a>[old_size];
00504 }
00505 
00506 }
00507 
00508 
00509 <font class="preprocessor">#endif //BARRAY_SOURCES</font>
</pre></div><hr><address><small>Generated on Tue Jun 24 13:26:54 2003 for NURBS++ by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.gif" tppabs="http://libnurbs.sourceforge.net/docs/doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
