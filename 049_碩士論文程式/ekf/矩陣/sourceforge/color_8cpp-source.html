<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>color.cpp Source File</title>
<link href="doxygen.css" tppabs="http://libnurbs.sourceforge.net/docs/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html" tppabs="http://libnurbs.sourceforge.net/docs/index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html" tppabs="http://libnurbs.sourceforge.net/docs/hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html" tppabs="http://libnurbs.sourceforge.net/docs/annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html" tppabs="http://libnurbs.sourceforge.net/docs/files.html">File List</a> &nbsp; <a class="qindex" href="functions.html" tppabs="http://libnurbs.sourceforge.net/docs/functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>color.cpp</h1><div class="fragment"><pre>00001 <font class="comment">/*=============================================================================</font>
00002 <font class="comment">        File: color.cpp</font>
00003 <font class="comment">     Purpose:</font>
00004 <font class="comment">    Revision: $Id: color.cpp,v 1.3 2003/01/13 19:40:54 philosophil Exp $</font>
00005 <font class="comment">  Created by: Philippe Lavoie          (26 January, 1999)</font>
00006 <font class="comment"> Modified by: Martin Schuerch</font>
00007 <font class="comment"></font>
00008 <font class="comment"> Copyright notice:</font>
00009 <font class="comment">          Copyright (C) 1996-1999 Philippe Lavoie</font>
00010 <font class="comment"> </font>
00011 <font class="comment">          This library is free software; you can redistribute it and/or</font>
00012 <font class="comment">          modify it under the terms of the GNU Library General Public</font>
00013 <font class="comment">          License as published by the Free Software Foundation; either</font>
00014 <font class="comment">          version 2 of the License, or (at your option) any later version.</font>
00015 <font class="comment"> </font>
00016 <font class="comment">          This library is distributed in the hope that it will be useful,</font>
00017 <font class="comment">          but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00018 <font class="comment">          MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00019 <font class="comment">          Library General Public License for more details.</font>
00020 <font class="comment"> </font>
00021 <font class="comment">          You should have received a copy of the GNU Library General Public</font>
00022 <font class="comment">          License along with this library; if not, write to the Free</font>
00023 <font class="comment">          Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</font>
00024 <font class="comment">=============================================================================*/</font>
00025 
00026 <font class="preprocessor">#ifndef Color_SOURCES</font>
00027 <font class="preprocessor"></font><font class="preprocessor">#define Color_SOURCES</font>
00028 <font class="preprocessor"></font>
00029 <font class="preprocessor">#include "color.h"</font>
00030 
00031 <font class="preprocessor">#include "barray.cpp"</font>
00032 <font class="preprocessor">#include "barray2d.cpp"</font>
00033 <font class="preprocessor">#include "matrix.cpp"</font>
00034 <font class="preprocessor">#include "vector.cpp"</font>
00035 
00038 <font class="keyword">namespace </font>PLib {
00039 
00040   <font class="comment">/*</font>
00041 <font class="comment">  Color whiteColor(255,255,255);</font>
00042 <font class="comment">  Color redColor(255,0,0) ;</font>
00043 <font class="comment">  Color blueColor(0,0,255) ;</font>
00044 <font class="comment">  Color greenColor(0,255,0) ;</font>
00045 <font class="comment">  Color yellowColor(255,255,0) ;</font>
00046 <font class="comment">  Color cyanColor(0,255,255) ;</font>
00047 <font class="comment">  Color magentaColor(255,0,255);</font>
00048 <font class="comment">  Color gray80Color(204,204,204) ;</font>
00049 <font class="comment">  Color gray50Color(127,127,127) ;</font>
00050 <font class="comment">  Color blackColor(0,0,0) ;</font>
00051 <font class="comment">  */</font>
00052 
00053   <font class="keywordtype">double</font>
00054     Matrix&lt;Color&gt;::norm(<font class="keywordtype">void</font>) {
00055 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00056 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> MatrixErr();
00057 <font class="preprocessor">#else</font>
00058 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"Matrix&lt;Color&gt;::norm()"</font>) ;
00059     error &lt;&lt; <font class="stringliteral">"ERROR: you can't get the norm of a Color matrix\n"</font> ;
00060     error.fatal() ;
00061 <font class="preprocessor">#endif</font>
00062 <font class="preprocessor"></font>    <font class="keywordflow">return</font> 0 ;
00063   }
00064 
00065   Matrix&lt;Color&gt;&amp; Matrix&lt;Color&gt;::operator+=(<font class="keywordtype">double</font> a)
00066   {
00067 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00068 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> MatrixErr();
00069 <font class="preprocessor">#else</font>
00070 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"Matrix&lt;Color&gt;::operator+=()"</font>) ;
00071     error &lt;&lt; <font class="stringliteral">"ERROR: you can't increment by a double a Color matrix\n"</font> ;
00072     error.fatal() ;
00073 <font class="preprocessor">#endif</font>
00074 <font class="preprocessor"></font>    <font class="keywordflow">return</font> *<font class="keyword">this</font> ;
00075   }
00076 
00077   Matrix&lt;Color&gt;&amp; Matrix&lt;Color&gt;::operator-=(<font class="keywordtype">double</font> a)
00078   {
00079 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00080 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> MatrixErr();
00081 <font class="preprocessor">#else</font>
00082 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"Matrix&lt;Color&gt;::operator+=()"</font>) ;
00083     error &lt;&lt; <font class="stringliteral">"ERROR: you can't decrement by a double a Color matrix\n"</font> ;
00084     error.fatal() ;
00085 <font class="preprocessor">#endif</font>
00086 <font class="preprocessor"></font>    <font class="keywordflow">return</font> *<font class="keyword">this</font> ;
00087   }
00088 
00089 
00090 <font class="preprocessor">#ifndef USING_VCC</font>
00091 <font class="preprocessor"></font>  <font class="keywordtype">int</font> Matrix&lt;Color&gt;::read(<font class="keywordtype">char</font>* filename,<font class="keywordtype">int</font> r, <font class="keywordtype">int</font> c) {
00092     ifstream fin(filename) ;
00093     <font class="keywordflow">if</font>(!fin) {
00094       <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a8'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a8">resize</a>(1,1) ;
00095       <font class="keywordflow">return</font> 0 ;
00096     }
00097     <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a8'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a8">resize</a>(r,c) ;
00098     Matrix&lt;unsigned char&gt; T(r,c) ;
00099     <font class="keywordtype">unsigned</font> <font class="keywordtype">char</font>* p = T[0] ;
00100     <font class="keywordflow">if</font>(!fin.read((<font class="keywordtype">char</font>*)p,<font class="keyword">sizeof</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">char</font>)*r*c)) <font class="keywordflow">return</font> 0 ;
00101     <font class="keywordtype">int</font> i,j ;
00102     <font class="keywordflow">for</font>(i=0;i&lt;r ;++i)
00103       <font class="keywordflow">for</font>(j=0;j&lt;c ;++j)
00104         elem(i,j).r = T(i,j) ;
00105     <font class="keywordflow">if</font>(!fin.read((<font class="keywordtype">char</font>*)p,<font class="keyword">sizeof</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">char</font>)*r*c)) <font class="keywordflow">return</font> 0 ;
00106     <font class="keywordflow">for</font>(i=0;i&lt;r ;i++)
00107       <font class="keywordflow">for</font>(j=0;j&lt;c ;++j)
00108         elem(i,j).g = T(i,j) ;
00109     <font class="keywordflow">if</font>(!fin.read((<font class="keywordtype">char</font>*)p,<font class="keyword">sizeof</font>(<font class="keywordtype">unsigned</font> <font class="keywordtype">char</font>)*r*c)) <font class="keywordflow">return</font> 0 ;
00110     <font class="keywordflow">for</font>(i=0;i&lt;r ;i++)
00111       <font class="keywordflow">for</font>(j=0;j&lt;c ;++j)
00112         elem(i,j).b = T(i,j) ;
00113     <font class="keywordflow">return</font> 1 ;
00114   }
00115 <font class="preprocessor">#endif</font>
00116 <font class="preprocessor"></font>
00117   <font class="keywordtype">int</font> Vector&lt;Color&gt;::minIndex()<font class="keyword"> const </font>{
00118 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00119 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> MatrixErr() ;
00120 <font class="preprocessor">#else</font>
00121 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"Vector&lt;color&gt;::minIndex"</font>) ;
00122     error &lt;&lt; <font class="stringliteral">"ERROR: you can't get the minIndex of a vector of Colors!\n"</font> ;
00123     error.fatal() ;
00124 <font class="preprocessor">#endif</font>
00125 <font class="preprocessor"></font>    <font class="keywordflow">return</font> 0 ;
00126   }
00127  
00128 
00129 
00130 
00131 <font class="preprocessor">#ifdef  NO_IMPLICIT_TEMPLATES</font>
00132 <font class="preprocessor"></font>
00133   <font class="comment">// from barray.cpp</font>
00134   <font class="keyword">template</font> <font class="keyword">class </font>BasicArray&lt;Color&gt;;
00135   <font class="keyword">template</font> <font class="keywordtype">void</font> resizeBasicArray&lt;Color&gt;(BasicArray&lt;Color&gt;&amp;,<font class="keywordtype">int</font>) ;
00136   <font class="keyword">template</font> <font class="keywordtype">int</font> operator==(<font class="keyword">const</font> BasicArray&lt;Color&gt;&amp;,<font class="keyword">const</font> BasicArray&lt;Color&gt;&amp;);
00137   <font class="keyword">template</font> istream&amp; operator&gt;&gt;(istream&amp; is, BasicArray&lt;Color&gt;&amp; ary);
00138   <font class="keyword">template</font> ostream&amp; operator&lt;&lt;(ostream&amp; os, const BasicArray&lt;Color&gt;&amp; ary);
00139 
00140   <font class="comment">// from barray2d.cpp</font>
00141   <font class="keyword">template</font> <font class="keyword">class </font>Basic2DArray&lt;Color&gt; ;
00142   <font class="keyword">template</font> <font class="keywordtype">void</font> initBasic2DArray&lt;Color&gt;(Basic2DArray&lt;Color&gt;&amp;,<font class="keyword">const</font> <font class="keywordtype">int</font>,<font class="keyword">const</font> <font class="keywordtype">int</font>) ;
00143   <font class="keyword">template</font> <font class="keywordtype">void</font> resizeKeepBasic2DArray&lt;Color&gt;(Basic2DArray&lt;Color&gt;&amp;,<font class="keyword">const</font> <font class="keywordtype">int</font>,<font class="keyword">const</font> <font class="keywordtype">int</font>) ;
00144   <font class="keyword">template</font> istream&amp; operator&gt;&gt;(istream&amp; is, Basic2DArray&lt;Color&gt;&amp; ary);
00145   <font class="keyword">template</font> ostream&amp; operator&lt;&lt;(ostream&amp; os, const Basic2DArray&lt;Color&gt;&amp; ary);
00146 
00147   <font class="comment">// Matrix instantiation</font>
00148   <font class="keyword">template</font> <font class="keyword">class </font>Matrix&lt;Color&gt; ;
00149 
00150   <font class="keyword">template</font> Matrix&lt;Color&gt; operator+(<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;,<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;);
00151   <font class="keyword">template</font> Matrix&lt;Color&gt; operator-(<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;,<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;);
00152   <font class="keyword">template</font> Matrix&lt;Color&gt; operator*(<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;,<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;);
00153   <font class="keyword">template</font> Matrix&lt;Color&gt; operator*(<font class="keyword">const</font> <font class="keywordtype">double</font>,<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;);
00154   <font class="keyword">template</font> <font class="keywordtype">int</font> operator==(<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;,<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;);
00155   <font class="comment">// template int operator!=(const Matrix&lt;Color&gt;&amp;,const Matrix&lt;Color&gt;&amp;);</font>
00156   <font class="keyword">template</font> Matrix&lt;Color&gt; comm(<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;,<font class="keyword">const</font> Matrix&lt;Color&gt;&amp;);
00157 
00158 
00159  <font class="comment">// Vector instantiation</font>
00160 
00161   <font class="keyword">template</font> <font class="keyword">class </font>Vector&lt;Color&gt; ;
00162   
00163   <font class="keyword">template</font> Vector&lt;Color&gt; operator+(<font class="keyword">const</font> Vector&lt;Color&gt;&amp;, <font class="keyword">const</font> Vector&lt;Color&gt;&amp;);
00164   <font class="keyword">template</font> Vector&lt;Color&gt; operator-(<font class="keyword">const</font> Vector&lt;Color&gt;&amp;, <font class="keyword">const</font> Vector&lt;Color&gt;&amp;);
00165   <font class="keyword">template</font> Color operator*(<font class="keyword">const</font> Vector&lt;Color&gt;&amp;,<font class="keyword">const</font> Vector&lt;Color&gt;&amp;);
00166   <font class="keyword">template</font> Vector&lt;Color&gt; operator*(<font class="keyword">const</font> Vector&lt;Color&gt;&amp; v, <font class="keyword">const</font> <font class="keywordtype">double</font> d);
00167   <font class="keyword">template</font> Vector&lt;Color&gt; operator*(<font class="keyword">const</font> Vector&lt;Color&gt;&amp; v, <font class="keyword">const</font> Complex d);
00168   <font class="keyword">template</font> <font class="keywordtype">int</font> operator==(<font class="keyword">const</font> Vector&lt;Color&gt;&amp;,<font class="keyword">const</font> Vector&lt;Color&gt;&amp;);
00169   <font class="keyword">template</font> <font class="keywordtype">int</font> operator!=(<font class="keyword">const</font> Vector&lt;Color&gt;&amp;,<font class="keyword">const</font> Vector&lt;Color&gt;&amp;);
00170   <font class="keyword">template</font> <font class="keywordtype">void</font> swap(Color&amp;,Color&amp;) ;
00171 
00172 <font class="preprocessor">#endif</font>
00173 <font class="preprocessor"></font>
00174 } <font class="comment">// end namespace</font>
00175 
00176 <font class="preprocessor">#ifdef  NO_IMPLICIT_TEMPLATES</font>
00177 <font class="preprocessor"></font>
00178   <font class="comment">// add the following for g++-v3 </font>
00179   <font class="comment">//template std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, std::_Setw);</font>
00180 <font class="preprocessor">#endif</font>
00181 <font class="preprocessor"></font>
00182 <font class="preprocessor">#endif</font>
00183 <font class="preprocessor"></font>
00184 
</pre></div><hr><address><small>Generated on Tue Jun 24 13:26:54 2003 for NURBS++ by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.gif" tppabs="http://libnurbs.sourceforge.net/docs/doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
