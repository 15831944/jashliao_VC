<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>image.cpp Source File</title>
<link href="doxygen.css" tppabs="http://libnurbs.sourceforge.net/docs/doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html" tppabs="http://libnurbs.sourceforge.net/docs/index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html" tppabs="http://libnurbs.sourceforge.net/docs/hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html" tppabs="http://libnurbs.sourceforge.net/docs/annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html" tppabs="http://libnurbs.sourceforge.net/docs/files.html">File List</a> &nbsp; <a class="qindex" href="functions.html" tppabs="http://libnurbs.sourceforge.net/docs/functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>image.cpp</h1><div class="fragment"><pre>00001 <font class="comment">/*=============================================================================</font>
00002 <font class="comment">        File: image.cpp</font>
00003 <font class="comment">     Purpose:</font>
00004 <font class="comment">    Revision: $Id: image.cpp,v 1.4 2003/01/13 19:41:03 philosophil Exp $</font>
00005 <font class="comment">  Created by:    Philippe Lavoie          (3 Oct, 1996)</font>
00006 <font class="comment"> Modified by: </font>
00007 <font class="comment"></font>
00008 <font class="comment"> Copyright notice:</font>
00009 <font class="comment">          Copyright (C) 1996-1997 Philippe Lavoie</font>
00010 <font class="comment"> </font>
00011 <font class="comment">          This library is free software; you can redistribute it and/or</font>
00012 <font class="comment">          modify it under the terms of the GNU Library General Public</font>
00013 <font class="comment">          License as published by the Free Software Foundation; either</font>
00014 <font class="comment">          version 2 of the License, or (at your option) any later version.</font>
00015 <font class="comment"> </font>
00016 <font class="comment">          This library is distributed in the hope that it will be useful,</font>
00017 <font class="comment">          but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00018 <font class="comment">          MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00019 <font class="comment">          Library General Public License for more details.</font>
00020 <font class="comment"> </font>
00021 <font class="comment">          You should have received a copy of the GNU Library General Public</font>
00022 <font class="comment">          License along with this library; if not, write to the Free</font>
00023 <font class="comment">          Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</font>
00024 <font class="comment">=============================================================================*/</font>
00025 
00026 <font class="preprocessor">#ifndef _PLIB_IMAGE_SOURCE</font>
00027 <font class="preprocessor"></font><font class="preprocessor">#define _PLIB_IMAGE_SOURCE</font>
00028 <font class="preprocessor"></font>
00029 <font class="preprocessor">#include "image.h"</font>
00030 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00031 
00034 <font class="keyword">namespace </font>PLib {
00035 
00057 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
<a name="l00058"></a><a class="code" href="classPLib_1_1MatrixImage.html#a5" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1MatrixImage.html#a5">00058</a> <font class="keywordtype">void</font> MatrixImage&lt;T&gt;::drawLine(<font class="keywordtype">int</font> i1, <font class="keywordtype">int</font> j1, <font class="keywordtype">int</font> i2, <font class="keywordtype">int</font> j2, T color){
00059   <font class="keywordtype">int</font> i,j ;
00060   <font class="keywordtype">double</font> mx,b ;
00061   <font class="keywordflow">if</font>(i1&lt;0 || j1&lt;0 || i1&gt;<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>() || j1&gt;=<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()  ){
00062 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00063 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> OutOfBound2D(i1,j1,0,<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>()-1,0,<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()-1) ;
00064 <font class="preprocessor">#else</font>
00065 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"MatrixImage&lt;T&gt;::drawLine"</font>) ;
00066     error &lt;&lt; <font class="stringliteral">"Error in drawing line\n Invalid index ("</font>&lt;&lt; i1 &lt;&lt; <font class="stringliteral">", "</font> &lt;&lt; j1 &lt;&lt; <font class="stringliteral">") to ( "</font> &lt;&lt; i2 &lt;&lt; <font class="stringliteral">", "</font> &lt;&lt; j2 &lt;&lt; <font class="stringliteral">") \n"</font> ;
00067     error.warning() ;
00068 <font class="preprocessor">#endif</font>
00069 <font class="preprocessor"></font>    <font class="keywordflow">return</font> ;
00070   }
00071   <font class="keywordflow">if</font>(i2 &lt;0 || j2&lt;0 || i2&gt;<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>() || j2&gt;=<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>() ){
00072 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00073 <font class="preprocessor"></font>    <font class="keywordflow">throw</font> OutOfBound2D(i2,j2,0,<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>()-1,0,<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()-1) ;
00074 <font class="preprocessor">#else</font>
00075 <font class="preprocessor"></font>    Error error(<font class="stringliteral">"MatrixImage&lt;T&gt;::drawLine"</font>) ;
00076     error &lt;&lt; <font class="stringliteral">"Error in drawing line\n Invalid index ("</font>&lt;&lt; i1 &lt;&lt; <font class="stringliteral">", "</font> &lt;&lt; j1 &lt;&lt; <font class="stringliteral">") to ( "</font> &lt;&lt; i2 &lt;&lt; <font class="stringliteral">", "</font> &lt;&lt; j2 &lt;&lt; <font class="stringliteral">") \n"</font> ;
00077     error.warning() ;
00078 <font class="preprocessor">#endif</font>
00079 <font class="preprocessor"></font>    <font class="keywordflow">return</font> ;
00080   }
00081 
00082   <font class="comment">// check if line is vertical</font>
00083   <font class="keywordflow">if</font>(j1==j2){
00084     <font class="keywordflow">for</font>(i=minimum(i1,i2);i&lt;=maximum(i1,i2);i++)
00085      <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15">operator()</a>(i,j1) = color ;
00086     <font class="keywordflow">return</font> ;
00087   }
00088   mx = (double)(i1-i2)/(double)(j1-j2) ;
00089   b = (double)i1 - mx*j1 ;
00090   <font class="keywordflow">if</font>(absolute(i1-i2)&gt;absolute(j1-j2)){ <font class="comment">// draw vertically</font>
00091     <font class="keywordflow">if</font>(i1&gt;i2){
00092       <font class="keywordflow">for</font>(i=i1;i&gt;=i2;i--){
00093         j = int(((<font class="keywordtype">double</font>)i-b)/mx) ;
00094         <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15">operator()</a>(i,j) = color ;
00095       }
00096     }
00097     <font class="keywordflow">else</font>{
00098       <font class="keywordflow">for</font>(i=i1;i&lt;=i2;i++){
00099         j = (int)((i-b)/mx) ;
00100         <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15">operator()</a>(i,j) = color ;
00101       }
00102     }
00103   }
00104   <font class="keywordflow">else</font>{
00105     <font class="keywordflow">if</font>(j1&gt;j2){
00106       <font class="keywordflow">for</font>(j=j1;j&gt;=j2;j--){
00107         i = (int)(mx*j+b) ;
00108         <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15">operator()</a>(i,j) = color ;
00109       }
00110     }
00111     <font class="keywordflow">else</font>{
00112       <font class="keywordflow">for</font>(j=j1;j&lt;=j2;j++){
00113         i = (int)(mx*j+b) ;
00114         <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15">operator()</a>(i,j) = color ;
00115       }
00116     }
00117   }
00118 
00119 }
00120 
00135 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
<a name="l00136"></a><a class="code" href="classPLib_1_1MatrixImage.html#a6" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1MatrixImage.html#a6">00136</a> <font class="keywordtype">void</font> MatrixImage&lt;T&gt;::drawPoint(<font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j, <font class="keywordtype">double</font> r , T color){
00137   <font class="keywordflow">for</font>(<font class="keywordtype">int</font> y=i-int(ceil(r)) ; y&lt;i+int(ceil(r)) ; y++)
00138     <font class="keywordflow">for</font>(<font class="keywordtype">int</font> x = j-int(ceil(r)) ; x&lt;j+int(ceil(r)) ; x++){
00139       <font class="keywordflow">if</font>(y&gt;=0 &amp;&amp; y&lt;rows() &amp;&amp; x&gt;=0 &amp;&amp; x&lt;<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()){
00140         <font class="keywordflow">if</font>( ((y-i)*(y-i)+(x-j)*(x-j))&lt;= r*r)
00141           <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a15">operator()</a>(y,x) = color ;
00142       }
00143     }
00144 }
00145 
00146 
00157 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
<a name="l00158"></a><a class="code" href="classPLib_1_1MatrixImage.html#a7" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1MatrixImage.html#a7">00158</a> <font class="keywordtype">void</font> MatrixImage&lt;T&gt;::store(Matrix&lt;T&gt;&amp; a){
00159   <font class="keywordflow">if</font>(a.rows() != <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>() || a.cols() != <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()) {
00160     a.resize(<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>(),<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()) ;
00161   }
00162   T *aptr, *bptr ;
00163   <font class="keywordtype">int</font> size,i ;
00164   aptr = &amp;a(0,0)-1 ;
00165   bptr = <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#n4'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#n4">m</a>-1 ;
00166   size = <a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a1">cols</a>()*<a class="code" href="javascript:if(confirm('http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?'))window.location='http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0'" tppabs="http://libnurbs.sourceforge.net/docs/classPLib_1_1Basic2DArray.html#a0">rows</a>() ;
00167   <font class="keywordflow">for</font>(i=0;i&lt;size;i++)
00168     *(++aptr) = *(++bptr) ;  
00169 }
00170 
00171 <font class="preprocessor">#ifdef WITH_IMAGE_MAGICK</font>
00172 <font class="preprocessor"></font>
00182 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00183 IM_ImageT&lt;T&gt;::IM_ImageT(): MatrixImage&lt;T&gt;(){
00184   autoSave = 0 ;
00185 }
00186 
00208 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00209 IM_ImageT&lt;T&gt;::IM_ImageT(<font class="keyword">const</font> std::string &amp;filename, <font class="keywordtype">int</font> save): MatrixImage&lt;T&gt;(){
00210   autoSave = save ;
00211   <font class="comment">//image.read(file_name);</font>
00212   file_name=filename;
00213 }
00214 
00227 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00228 IM_ImageT&lt;T&gt;::IM_ImageT(<font class="keyword">const</font> <font class="keywordtype">int</font> r, <font class="keyword">const</font> <font class="keywordtype">int</font> c): MatrixImage&lt;T&gt;(r,c){
00229   autoSave = 0 ;
00230 }
00231 
00247 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00248 <font class="keywordtype">int</font> IM_ImageT&lt;T&gt;::read(<font class="keyword">const</font> std::string&amp; filename) {
00249 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00250 <font class="preprocessor"></font>  <font class="keywordflow">throw</font> MatrixErr() ;
00251 <font class="preprocessor">#else</font>
00252 <font class="preprocessor"></font>  Error error(<font class="stringliteral">"IM_ImageT&lt;T&gt;::read"</font>) ;
00253   error &lt;&lt; <font class="stringliteral">"An image of this type is NOT supported!\n"</font> ;
00254   error.fatal() ;
00255 <font class="preprocessor">#endif</font>
00256 <font class="preprocessor"></font>  <font class="keywordflow">return</font> 0;
00257 }
00258 
00274 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00275 <font class="keywordtype">int</font> IM_ImageT&lt;T&gt;::write(<font class="keyword">const</font> std::string&amp; filename) {
00276 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00277 <font class="preprocessor"></font>  <font class="keywordflow">throw</font> MatrixErr() ;
00278 <font class="preprocessor">#else</font>
00279 <font class="preprocessor"></font>  Error error(<font class="stringliteral">"IM_ImageT&lt;T&gt;::write"</font>) ;
00280   error &lt;&lt; <font class="stringliteral">"An image of this type is NOT supported!\n"</font> ;
00281   error.fatal() ;
00282 <font class="preprocessor">#endif</font>
00283 <font class="preprocessor"></font>  <font class="keywordflow">return</font> 0 ;
00284 }
00285 
00302 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00303 <font class="keywordtype">void</font> IM_ImageT&lt;T&gt;::setMatrix(){
00304 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00305 <font class="preprocessor"></font>  <font class="keywordflow">throw</font> MatrixErr() ;
00306 <font class="preprocessor">#else</font>
00307 <font class="preprocessor"></font>  Error error(<font class="stringliteral">"IM_ImageT&lt;T&gt;::setImage"</font>) ;
00308   error &lt;&lt; <font class="stringliteral">"An image of this type is NOT supported!\n"</font> ;
00309   error.fatal() ;
00310 <font class="preprocessor">#endif</font>
00311 <font class="preprocessor"></font>}
00312 
00313 
00329 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00330 <font class="keywordtype">void</font> IM_ImageT&lt;T&gt;::setImage(){
00331 <font class="preprocessor">#ifdef USE_EXCEPTION</font>
00332 <font class="preprocessor"></font>  <font class="keywordflow">throw</font> MatrixErr() ;
00333 <font class="preprocessor">#else</font>
00334 <font class="preprocessor"></font>  Error error(<font class="stringliteral">"IM_ImageT&lt;T&gt;::setImage"</font>) ;
00335   error &lt;&lt; <font class="stringliteral">"An image of this type is NOT supported!\n"</font> ;
00336   error.fatal() ;
00337 <font class="preprocessor">#endif</font>
00338 <font class="preprocessor"></font>}
00339 
00350 <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00351 IM_ImageT&lt;T&gt;::~IM_ImageT(){
00352   <font class="keywordflow">if</font>(autoSave &amp;&amp; file_name.length()&gt;0){
00353     <font class="comment">//image.write(file_name) ;</font>
00354   }
00355 }
00356 
00357 <font class="preprocessor">#endif</font>
00358 <font class="preprocessor"></font>
00359 
00360 <font class="preprocessor">#ifdef NO_IMPLICIT_TEMPLATES</font>
00361 <font class="preprocessor"></font>  <font class="keyword">template</font> <font class="keyword">class </font>MatrixImage&lt;int&gt; ;
00362   <font class="keyword">template</font> <font class="keyword">class </font>MatrixImage&lt;float&gt; ;
00363   <font class="keyword">template</font> <font class="keyword">class </font>MatrixImage&lt;double&gt; ;
00364   <font class="keyword">template</font> <font class="keyword">class </font>MatrixImage&lt;char&gt; ;
00365   <font class="keyword">template</font> <font class="keyword">class </font>MatrixImage&lt;unsigned char&gt; ;
00366   <font class="keyword">template</font> <font class="keyword">class </font>MatrixImage&lt;Color&gt; ;
00367 <font class="preprocessor">#endif</font>
00368 <font class="preprocessor"></font>
00369 
00370 } <font class="comment">// end namespace</font>
00371 
00372 
00373 <font class="preprocessor">#endif</font>
</pre></div><hr><address><small>Generated on Tue Jun 24 13:26:55 2003 for NURBS++ by
<a href="javascript:if(confirm('http://www.doxygen.org/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.doxygen.org/index.html'" tppabs="http://www.doxygen.org/index.html">
<img src="doxygen.gif" tppabs="http://libnurbs.sourceforge.net/docs/doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
